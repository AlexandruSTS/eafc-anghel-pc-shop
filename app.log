2023-06-04 13:18:55,762 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 13:18:56,148 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 13:18:56,149 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 13:18:56,264 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 13:19:00,571 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 9135 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 13:19:00,575 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 13:19:00,630 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 13:19:00,631 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 13:19:01,296 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 13:19:01,318 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2023-06-04 13:19:01,948 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 13:19:01,959 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 13:19:01,960 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 13:19:01,960 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 13:19:02,016 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 13:19:02,016 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1385 ms
2023-06-04 13:19:02,045 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 13:19:02,261 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 13:19:02,262 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 13:19:02,275 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 13:19:02,419 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 13:19:02,419 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 13:19:02,419 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 13:19:02,424 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 13:19:02,424 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 13:19:02,424 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 13:19:02,424 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 13:19:02,425 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 13:19:02,425 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 13:19:02,426 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 13:19:02,426 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 13:19:02,427 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 13:19:02,427 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 13:19:02,430 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 13:19:02,437 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 13:19:02,437 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 13:19:02,473 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 13:19:02,474 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 13:19:02,475 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 13:19:02,486 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 13:19:02,495 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 13:19:02,505 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 13:19:02,509 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 13:19:02,512 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 1 migration (execution time 00:00.015s)
2023-06-04 13:19:02,519 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 13:19:02,523 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 13:19:02,526 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 13:19:02,536 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:19:02,537 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:19:02,537 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:19:02,546 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:19:02,547 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:19:02,549 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:19:02,549 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 13:19:02,554 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 13:19:02,555 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 13:19:02,557 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID         INT PRIMARY KEY NOT NULL,
    FIRST_NAME VARCHAR(255)    NOT NULL,
    LAST_NAME  VARCHAR(255)    NOT NULL,
    email      VARCHAR(255)    NOT NULL,
    PASSWORD   VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH   DATETIME   NOT NULL
)
2023-06-04 13:19:02,559 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create user table" ...
2023-06-04 13:19:02,561 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create user table"
2023-06-04 13:19:02,562 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID         INT PRIMARY KEY NOT NULL,
    FIRST_NAME VARCHAR(255)    NOT NULL,
    LAST_NAME  VARCHAR(255)    NOT NULL,
    email      VARCHAR(255)    NOT NULL,
    PASSWORD   VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH   DATETIME   NOT NULL
)
2023-06-04 13:19:02,563 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:19:02,563 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create user table"
2023-06-04 13:19:02,566 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:19:02,571 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 1 migration to schema "PUBLIC", now at version v1.0.0 (execution time 00:00.018s)
2023-06-04 13:19:02,573 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 21 of 88M
2023-06-04 13:19:02,653 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 13:19:02,714 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 13:19:02,716 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 13:19:02,875 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:19:03,034 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 13:19:03,074 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 13:19:03,269 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:19:03,926 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 13:19:03,948 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 13:19:03,992 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 13:19:04,387 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 13:19:04,408 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 13:19:04,427 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 13:19:04,437 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.237 seconds (process running for 5.21)
2023-06-04 13:19:18,532 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 13:19:18,915 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 13:19:18,916 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 13:19:19,034 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 13:36:10,070 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 9573 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 13:36:10,076 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 13:36:10,137 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 13:36:10,138 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 13:36:10,786 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 13:36:10,809 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2023-06-04 13:36:11,458 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 13:36:11,467 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 13:36:11,468 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 13:36:11,469 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 13:36:11,528 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 13:36:11,528 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1390 ms
2023-06-04 13:36:11,559 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 13:36:11,773 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 13:36:11,774 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 13:36:11,788 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 13:36:11,933 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 13:36:11,934 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 13:36:11,934 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 13:36:11,937 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 13:36:11,937 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 13:36:11,937 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 13:36:11,937 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 13:36:11,937 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 13:36:11,938 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 13:36:11,940 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 13:36:11,941 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 13:36:11,942 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 13:36:11,942 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 13:36:11,942 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 13:36:11,945 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 13:36:11,946 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 13:36:11,952 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 13:36:11,953 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 13:36:11,988 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 13:36:11,991 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 13:36:11,991 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 13:36:12,001 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 13:36:12,010 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 13:36:12,021 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 13:36:12,021 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 13:36:12,022 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 13:36:12,023 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 13:36:12,027 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 35 of 94M
2023-06-04 13:36:12,028 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 1.0.0
Offenders:
-> /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql (SQL)
-> /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_user_table.sql (SQL)
2023-06-04 13:36:12,028 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 13:36:12,035 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 13:36:12,038 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 13:36:12,056 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 13:36:12,079 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 1.0.0
Offenders:
-> /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql (SQL)
-> /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_user_table.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 1.0.0
Offenders:
-> /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql (SQL)
-> /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_user_table.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
2023-06-04 13:38:03,170 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 9612 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 13:38:03,174 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 13:38:03,230 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 13:38:03,231 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 13:38:03,844 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 13:38:03,864 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2023-06-04 13:38:04,459 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 13:38:04,467 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 13:38:04,468 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 13:38:04,468 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 13:38:04,522 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 13:38:04,523 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1292 ms
2023-06-04 13:38:04,550 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 13:38:04,752 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 13:38:04,754 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 13:38:04,766 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 13:38:04,905 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 13:38:04,906 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 13:38:04,906 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 13:38:04,909 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 13:38:04,909 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 13:38:04,909 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 13:38:04,909 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 13:38:04,909 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 13:38:04,910 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 13:38:04,911 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 13:38:04,911 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 13:38:04,912 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 13:38:04,912 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 13:38:04,912 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 13:38:04,915 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 13:38:04,916 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 13:38:04,923 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 13:38:04,924 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 13:38:04,959 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 13:38:04,960 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 13:38:04,960 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 13:38:04,970 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 13:38:04,981 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 13:38:04,991 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 13:38:04,991 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 13:38:04,994 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 13:38:05,004 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.021s)
2023-06-04 13:38:05,006 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 13:38:05,011 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 13:38:05,014 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 13:38:05,025 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:38:05,025 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:38:05,026 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:38:05,034 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:38:05,034 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:38:05,036 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:38:05,036 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 13:38:05,042 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 13:38:05,042 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 13:38:05,044 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 13:38:05,045 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 13:38:05,047 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 13:38:05,048 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 13:38:05,049 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:38:05,049 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 13:38:05,051 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:38:05,056 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 13:38:05,059 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL
)
2023-06-04 13:38:05,059 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 13:38:05,060 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 13:38:05,060 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL
)
2023-06-04 13:38:05,062 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:38:05,062 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 13:38:05,064 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:38:05,066 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.026s)
2023-06-04 13:38:05,068 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 88M
2023-06-04 13:38:05,148 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 13:38:05,216 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 13:38:05,219 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 13:38:05,375 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:38:05,536 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 13:38:05,577 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 13:38:05,777 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:38:06,455 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 13:38:06,481 ERROR [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:426] Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [DESCRIPTION] in table [_USER]
2023-06-04 13:38:06,482 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [DESCRIPTION] in table [_USER]
2023-06-04 13:38:06,689 WARN [restartedMain] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 13:38:06,690 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 13:38:06,692 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 13:38:06,693 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 13:38:06,707 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 13:38:06,732 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [DESCRIPTION] in table [_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [DESCRIPTION] in table [_USER]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [DESCRIPTION] in table [_USER]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:293)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:291)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2023-06-04 13:39:39,673 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 9643 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 13:39:39,677 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 13:39:39,728 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 13:39:39,729 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 13:39:40,380 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 13:39:40,402 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2023-06-04 13:39:41,041 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 13:39:41,050 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 13:39:41,051 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 13:39:41,052 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 13:39:41,110 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 13:39:41,110 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1380 ms
2023-06-04 13:39:41,138 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 13:39:41,350 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 13:39:41,352 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 13:39:41,364 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 13:39:41,502 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 13:39:41,503 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 13:39:41,503 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 13:39:41,506 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 13:39:41,506 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 13:39:41,506 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 13:39:41,506 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 13:39:41,506 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 13:39:41,507 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 13:39:41,509 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 13:39:41,510 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 13:39:41,511 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 13:39:41,511 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 13:39:41,511 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 13:39:41,514 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 13:39:41,514 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 13:39:41,521 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 13:39:41,522 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 13:39:41,556 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 13:39:41,558 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 13:39:41,558 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 13:39:41,567 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 13:39:41,576 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 13:39:41,592 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 13:39:41,592 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 13:39:41,595 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 13:39:41,599 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.021s)
2023-06-04 13:39:41,602 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 13:39:41,607 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 13:39:41,609 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 13:39:41,618 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:39:41,618 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:39:41,619 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:39:41,626 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:39:41,626 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:39:41,628 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:39:41,628 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 13:39:41,634 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 13:39:41,634 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 13:39:41,636 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 13:39:41,638 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 13:39:41,639 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 13:39:41,640 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 13:39:41,641 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:39:41,642 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 13:39:41,644 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:39:41,649 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 13:39:41,652 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL
)
2023-06-04 13:39:41,653 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 13:39:41,653 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 13:39:41,654 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL
)
2023-06-04 13:39:41,655 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:39:41,655 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 13:39:41,656 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:39:41,658 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.027s)
2023-06-04 13:39:41,660 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 88M
2023-06-04 13:39:41,730 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 13:39:41,779 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 13:39:41,782 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 13:39:41,929 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:39:42,085 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 13:39:42,124 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 13:39:42,319 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:39:42,986 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 13:39:43,012 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 13:39:43,058 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 13:39:43,462 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 13:39:43,482 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 13:39:43,502 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 13:39:43,514 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.223 seconds (process running for 4.976)
2023-06-04 13:53:13,136 INFO [http-nio-8090-exec-9] o.a.c.h.Http11Processor [DirectJDKLog.java:175] Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x000x000x000x110x000x000x000x140x000x000x000x060x00p0x00c0x00s0x00h0x00o0x00p0x000x000x00#0x00j0x00d0x00b0x00c0x00:0x00h0x0020x00:0x00t0x00c0x00p0x00:0x00/0x00/0x00l0x00o0x00c0x00a0x00l0x00h0x00o0x00s0x00t0x00:0x0080x0000x0090x0000x00/0x00p0x00c0x00s0x00h0x00o0x00p0x000x000x000x060x00P0x00C0x00S0x00H0x00O0x00P0x000x000x00 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:407)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:263)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-06-04 13:56:23,180 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 13:56:23,542 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 13:56:23,544 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 13:56:23,660 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 13:56:28,185 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10047 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 13:56:28,187 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 13:56:28,239 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 13:56:28,239 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 13:56:28,921 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 13:56:28,945 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2023-06-04 13:56:29,615 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 13:56:29,625 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 13:56:29,627 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 13:56:29,628 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 13:56:29,685 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 13:56:29,686 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1445 ms
2023-06-04 13:56:29,715 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 13:56:29,935 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 13:56:29,936 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 13:56:29,949 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 13:56:30,094 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 13:56:30,096 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 13:56:30,096 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 13:56:30,099 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 13:56:30,099 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 13:56:30,099 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 13:56:30,099 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 13:56:30,100 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 13:56:30,100 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 13:56:30,101 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 13:56:30,101 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 13:56:30,103 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 13:56:30,103 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 13:56:30,104 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 13:56:30,106 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 13:56:30,107 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 13:56:30,115 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 13:56:30,115 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 13:56:30,149 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 13:56:30,151 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 13:56:30,151 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 13:56:30,162 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 13:56:30,171 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 13:56:30,184 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 13:56:30,184 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 13:56:30,186 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 13:56:30,189 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.017s)
2023-06-04 13:56:30,196 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 13:56:30,200 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 13:56:30,204 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 13:56:30,214 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:56:30,215 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:56:30,215 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 13:56:30,227 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:56:30,227 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 13:56:30,229 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:56:30,229 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 13:56:30,235 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 13:56:30,236 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 13:56:30,237 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 13:56:30,239 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 13:56:30,240 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 13:56:30,241 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 13:56:30,242 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:56:30,243 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 13:56:30,245 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:56:30,249 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 13:56:30,251 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 13:56:30,251 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 13:56:30,252 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 13:56:30,252 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 13:56:30,259 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 13:56:30,259 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 13:56:30,261 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 13:56:30,263 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.031s)
2023-06-04 13:56:30,265 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 88M
2023-06-04 13:56:30,351 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 13:56:30,415 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 13:56:30,418 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 13:56:30,574 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:56:30,735 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 13:56:30,778 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 13:56:30,990 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 13:56:31,720 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 13:56:31,744 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 13:56:31,788 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 13:56:32,200 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 13:56:32,220 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 13:56:32,240 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 13:56:32,253 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.479 seconds (process running for 5.557)
2023-06-04 14:01:47,046 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:01:47,430 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:01:47,430 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:01:47,551 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:01:52,210 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10157 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:01:52,213 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:01:52,264 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:01:52,265 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:01:52,936 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:01:52,960 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2023-06-04 14:01:53,615 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:01:53,625 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:01:53,626 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:01:53,627 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:01:53,684 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:01:53,684 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1417 ms
2023-06-04 14:01:53,713 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:01:53,934 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:01:53,936 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:01:53,947 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:01:54,091 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:01:54,092 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:01:54,092 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:01:54,095 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:01:54,095 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 14:01:54,095 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:01:54,096 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:01:54,096 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 14:01:54,096 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:01:54,097 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:01:54,097 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:01:54,099 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:01:54,100 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:01:54,100 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:01:54,103 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:01:54,104 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:01:54,110 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:01:54,110 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:01:54,145 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:01:54,147 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:01:54,148 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:01:54,162 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:01:54,173 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:01:54,187 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:01:54,187 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:01:54,189 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:01:54,193 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.018s)
2023-06-04 14:01:54,200 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:01:54,204 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:01:54,207 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:01:54,218 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:01:54,219 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:01:54,219 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:01:54,227 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:01:54,227 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:01:54,229 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:01:54,229 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:01:54,234 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:01:54,235 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:01:54,236 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:01:54,238 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:01:54,240 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:01:54,241 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:01:54,242 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:01:54,242 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:01:54,244 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:01:54,248 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:01:54,250 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:01:54,251 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:01:54,251 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:01:54,251 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:01:54,257 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:01:54,257 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:01:54,260 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:01:54,262 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.030s)
2023-06-04 14:01:54,264 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 88M
2023-06-04 14:01:54,343 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:01:54,405 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:01:54,409 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:01:54,563 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:01:54,726 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:01:54,767 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:01:54,976 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:01:55,680 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:01:55,703 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:01:55,746 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:01:56,142 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:01:56,160 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:01:56,180 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:01:56,192 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.386 seconds (process running for 5.438)
2023-06-04 14:06:13,218 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:06:13,605 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:06:13,606 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:06:13,727 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:06:16,499 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10292 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:06:16,502 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:06:16,561 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:06:16,561 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:06:17,209 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:06:17,232 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2023-06-04 14:06:17,890 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:06:17,899 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:06:17,900 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:06:17,900 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:06:17,958 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:06:17,959 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1397 ms
2023-06-04 14:06:17,988 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:06:18,205 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:06:18,207 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:06:18,219 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:06:18,362 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:06:18,362 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:06:18,363 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:06:18,365 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:06:18,365 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:06:18,365 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:06:18,366 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:06:18,366 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:06:18,366 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:06:18,367 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:06:18,367 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:06:18,369 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:06:18,370 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:06:18,370 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql
2023-06-04 14:06:18,370 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:06:18,373 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__INSERT_ADMIN_ROLE.sql
2023-06-04 14:06:18,374 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:06:18,374 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:06:18,380 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:06:18,380 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:06:18,414 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:06:18,415 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:06:18,415 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:06:18,425 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:06:18,435 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:06:18,446 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (filename: V1_0_2__INSERT_ADMIN_ROLE.sql)
2023-06-04 14:06:18,446 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:06:18,446 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:06:18,448 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:06:18,451 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 3 migrations (execution time 00:00.015s)
2023-06-04 14:06:18,459 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:06:18,464 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:06:18,466 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:06:18,477 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:06:18,477 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:06:18,478 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:06:18,485 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:06:18,486 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:06:18,487 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:06:18,488 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:06:18,493 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:06:18,494 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:06:18,496 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:06:18,499 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:06:18,500 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:06:18,501 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:06:18,503 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:06:18,503 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:06:18,505 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:06:18,510 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:06:18,512 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:06:18,512 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:06:18,513 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:06:18,513 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:06:18,519 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:06:18,519 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:06:18,520 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:06:18,522 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__INSERT_ADMIN_ROLE.sql ...
2023-06-04 14:06:18,524 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role")
2023-06-04 14:06:18,525 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - INSERT ADMIN ROLE" ...
2023-06-04 14:06:18,525 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - INSERT ADMIN ROLE"
2023-06-04 14:06:18,525 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role")
2023-06-04 14:06:18,529 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 14:06:18,530 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 14:06:18,530 ERROR [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:45] Migration of schema "PUBLIC" to version "1.0.2 - INSERT ADMIN ROLE" failed! Please restore backups and roll back database and code!
2023-06-04 14:06:18,533 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:06:18,535 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 68M
2023-06-04 14:06:18,536 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "admin" not found; SQL statement:
INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role") [42122-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role")

2023-06-04 14:06:18,537 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:06:18,539 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:06:18,542 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:06:18,555 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:06:18,579 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "admin" not found; SQL statement:
INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role") [42122-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role")

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "admin" not found; SQL statement:
INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role") [42122-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role")

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:142)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:142)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:99)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "admin" not found; SQL statement:
INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role") [42122-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role")

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "admin" not found; SQL statement:
INSERT INTO ROLE (NAME, DESCRIPTION) values ("admin", "the admin role") [42122-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.expression.ExpressionColumn.getColumnException(ExpressionColumn.java:244)
	at org.h2.expression.ExpressionColumn.optimizeOther(ExpressionColumn.java:226)
	at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:213)
	at org.h2.command.dml.Insert.doPrepare(Insert.java:300)
	at org.h2.command.dml.DataChangeStatement.prepare(DataChangeStatement.java:37)
	at org.h2.command.Parser.prepareCommand(Parser.java:575)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 45 common frames omitted
2023-06-04 14:07:58,813 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10328 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:07:58,816 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:07:58,880 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:07:58,881 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:07:59,647 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:07:59,673 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2023-06-04 14:08:00,383 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:08:00,395 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:08:00,396 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:08:00,396 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:08:00,461 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:08:00,461 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1580 ms
2023-06-04 14:08:00,493 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:08:00,769 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:08:00,772 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:08:00,784 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:08:00,948 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:08:00,948 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:08:00,948 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:08:00,952 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:08:00,952 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 14:08:00,952 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:08:00,953 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:08:00,953 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 14:08:00,953 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:08:00,955 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:08:00,956 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:08:00,957 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:08:00,958 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:08:00,958 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql
2023-06-04 14:08:00,958 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:08:00,961 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__INSERT_ADMIN_ROLE.sql
2023-06-04 14:08:00,962 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:08:00,962 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:08:00,968 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:08:00,969 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:08:01,006 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:08:01,008 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:08:01,008 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:08:01,018 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:08:01,029 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:08:01,042 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (filename: V1_0_2__INSERT_ADMIN_ROLE.sql)
2023-06-04 14:08:01,042 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:08:01,042 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:08:01,044 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:08:01,048 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 3 migrations (execution time 00:00.016s)
2023-06-04 14:08:01,055 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:08:01,059 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:08:01,079 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:08:01,086 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:08:01,087 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:08:01,087 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:08:01,095 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:01,095 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:08:01,097 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:01,097 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:08:01,104 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:08:01,105 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:08:01,106 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:08:01,109 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:08:01,111 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:08:01,112 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:08:01,113 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:01,113 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:08:01,116 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:08:01,120 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:08:01,123 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:08:01,124 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:08:01,124 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:08:01,124 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:08:01,129 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:01,129 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:08:01,131 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:08:01,133 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__INSERT_ADMIN_ROLE.sql ...
2023-06-04 14:08:01,134 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: # INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role")
2023-06-04 14:08:01,134 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - INSERT ADMIN ROLE" ...
2023-06-04 14:08:01,135 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - INSERT ADMIN ROLE"
2023-06-04 14:08:01,135 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: # INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role")
2023-06-04 14:08:01,141 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 14:08:01,141 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 14:08:01,141 ERROR [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:45] Migration of schema "PUBLIC" to version "1.0.2 - INSERT ADMIN ROLE" failed! Please restore backups and roll back database and code!
2023-06-04 14:08:01,143 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:08:01,144 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 68M
2023-06-04 14:08:01,145 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, ""admin"", ""the admin role"")"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role") [42000-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role")

2023-06-04 14:08:01,145 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:08:01,148 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:08:01,150 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:08:01,163 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:08:01,192 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, ""admin"", ""the admin role"")"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role") [42000-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role")

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, ""admin"", ""the admin role"")"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role") [42000-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role")

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:142)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:142)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:99)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1_0_2__INSERT_ADMIN_ROLE.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, ""admin"", ""the admin role"")"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role") [42000-214]
Location   : db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_2__INSERT_ADMIN_ROLE.sql)
Line       : 1
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role")

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, ""admin"", ""the admin role"")"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) values (1, "admin", "the admin role") [42000-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.getSyntaxError(DbException.java:247)
	at org.h2.command.Tokenizer.tokenize(Tokenizer.java:194)
	at org.h2.command.Parser.initialize(Parser.java:5877)
	at org.h2.command.Parser.parse(Parser.java:657)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 45 common frames omitted
2023-06-04 14:08:32,417 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10347 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:08:32,419 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:08:32,466 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:08:32,467 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:08:33,072 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:08:33,093 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2023-06-04 14:08:33,731 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:08:33,742 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:08:33,743 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:08:33,743 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:08:33,804 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:08:33,805 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1337 ms
2023-06-04 14:08:33,836 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:08:34,073 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:08:34,074 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:08:34,087 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:08:34,240 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:08:34,240 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:08:34,240 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:08:34,243 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:08:34,244 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:08:34,244 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:08:34,244 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:08:34,244 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:08:34,245 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:08:34,246 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:08:34,246 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:08:34,247 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:08:34,247 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:08:34,248 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:08:34,250 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:08:34,251 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:08:34,259 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:08:34,259 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:08:34,295 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:08:34,297 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:08:34,297 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:08:34,310 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:08:34,320 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:08:34,331 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:08:34,332 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:08:34,334 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:08:34,337 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.015s)
2023-06-04 14:08:34,344 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:08:34,348 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:08:34,352 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:08:34,363 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:08:34,363 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:08:34,364 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:08:34,373 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:34,373 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:08:34,375 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:34,375 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:08:34,381 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:08:34,382 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:08:34,383 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:08:34,385 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:08:34,386 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:08:34,387 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:08:34,388 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:34,389 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:08:34,393 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:08:34,397 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:08:34,399 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:08:34,400 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:08:34,401 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:08:34,401 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:08:34,406 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:08:34,407 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:08:34,408 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:08:34,411 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.032s)
2023-06-04 14:08:34,412 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 88M
2023-06-04 14:08:34,513 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:08:34,605 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:08:34,609 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:08:34,810 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:08:35,004 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:08:35,052 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:08:35,299 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:08:36,097 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:08:36,126 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:08:36,176 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:08:36,642 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:08:36,662 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:08:36,683 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:08:36,695 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.663 seconds (process running for 5.679)
2023-06-04 14:11:50,512 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:11:50,903 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:11:50,904 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:11:51,027 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:11:53,383 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10413 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:11:53,385 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:11:53,433 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:11:53,433 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:11:54,010 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:11:54,031 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2023-06-04 14:11:54,624 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:11:54,634 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:11:54,635 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:11:54,635 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:11:54,691 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:11:54,692 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1258 ms
2023-06-04 14:11:54,721 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:11:54,939 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:11:54,941 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:11:54,953 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:11:55,087 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:11:55,087 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:11:55,087 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:11:55,089 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:11:55,090 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:11:55,090 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:11:55,090 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:11:55,090 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:11:55,090 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:11:55,091 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:11:55,091 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:11:55,092 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:11:55,092 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:11:55,092 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:11:55,095 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:11:55,096 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:11:55,102 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:11:55,103 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:11:55,134 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:11:55,136 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:11:55,136 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:11:55,143 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:11:55,152 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:11:55,162 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:11:55,162 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:11:55,164 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:11:55,167 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.013s)
2023-06-04 14:11:55,173 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:11:55,178 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:11:55,183 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:11:55,193 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:11:55,193 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:11:55,193 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:11:55,201 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:11:55,201 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:11:55,202 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:11:55,203 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:11:55,208 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:11:55,208 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:11:55,209 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:11:55,211 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')
2023-06-04 14:11:55,211 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (2, 'user', 'the user role')
2023-06-04 14:11:55,212 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:11:55,213 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:11:55,214 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:11:55,215 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:11:55,215 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')
2023-06-04 14:11:55,216 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:11:55,216 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (2, 'user', 'the user role')
2023-06-04 14:11:55,216 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:11:55,216 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:11:55,218 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:11:55,224 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:11:55,225 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:11:55,226 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:11:55,226 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:11:55,226 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:11:55,231 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:11:55,231 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:11:55,233 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:11:55,235 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.029s)
2023-06-04 14:11:55,236 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 68M
2023-06-04 14:11:55,316 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:11:55,382 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:11:55,385 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:11:55,540 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:11:55,699 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:11:55,740 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:11:55,955 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:11:56,651 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:11:56,675 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:11:56,718 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:11:57,110 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:11:57,128 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:11:57,149 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:11:57,159 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.107 seconds (process running for 5.072)
2023-06-04 14:19:12,267 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:19:12,654 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:19:12,655 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:19:12,779 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:19:15,466 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10569 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:19:15,468 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:19:15,517 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:19:15,518 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:19:16,079 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:19:16,100 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2023-06-04 14:19:16,685 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:19:16,693 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:19:16,694 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:19:16,694 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:19:16,751 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:19:16,752 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1233 ms
2023-06-04 14:19:16,778 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:19:16,988 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:19:16,990 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:19:17,001 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:19:17,132 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:19:17,132 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:19:17,132 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:19:17,135 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:19:17,135 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:19:17,135 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:19:17,135 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:19:17,135 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:19:17,135 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:19:17,136 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:19:17,137 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:19:17,138 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:19:17,138 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:19:17,138 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:19:17,140 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:19:17,141 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:19:17,146 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:19:17,146 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:19:17,179 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:19:17,181 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:19:17,181 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:19:17,189 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:19:17,197 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:19:17,208 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:19:17,208 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:19:17,210 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:19:17,212 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.012s)
2023-06-04 14:19:17,218 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:19:17,222 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:19:17,226 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:19:17,236 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:19:17,236 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:19:17,237 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:19:17,244 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:17,244 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:19:17,246 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:17,246 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:19:17,251 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:19:17,252 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:19:17,253 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:19:17,254 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')
2023-06-04 14:19:17,255 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (2, 'user', 'the user role')
2023-06-04 14:19:17,257 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:19:17,258 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:19:17,259 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:19:17,260 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:17,261 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')
2023-06-04 14:19:17,266 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 14:19:17,267 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 14:19:17,268 ERROR [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:45] Migration of schema "PUBLIC" to version "1.0.0 - create role table" failed! Please restore backups and roll back database and code!
2023-06-04 14:19:17,270 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:19:17,272 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 21 of 68M
2023-06-04 14:19:17,273 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_0__create_role_table.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role') [42000-214]
Location   : db/migration/V1_0_0__create_role_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql)
Line       : 7
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')

2023-06-04 14:19:17,274 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:19:17,276 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:19:17,279 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:19:17,291 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:19:17,316 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_0__create_role_table.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role') [42000-214]
Location   : db/migration/V1_0_0__create_role_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql)
Line       : 7
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1_0_0__create_role_table.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role') [42000-214]
Location   : db/migration/V1_0_0__create_role_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql)
Line       : 7
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:142)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:142)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:99)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1_0_0__create_role_table.sql failed
----------------------------------------------
SQL State  : 42000
Error Code : 42000
Message    : Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role') [42000-214]
Location   : db/migration/V1_0_0__create_role_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_role_table.sql)
Line       : 7
Statement  : # INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role')"; SQL statement:
# INSERT INTO ROLE (ID, NAME, DESCRIPTION) VALUES (1, 'admin', 'the admin role') [42000-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.getSyntaxError(DbException.java:247)
	at org.h2.command.Tokenizer.tokenize(Tokenizer.java:194)
	at org.h2.command.Parser.initialize(Parser.java:5877)
	at org.h2.command.Parser.parse(Parser.java:657)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 45 common frames omitted
2023-06-04 14:19:34,722 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10590 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:19:34,724 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:19:34,768 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:19:34,769 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:19:35,282 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:19:35,301 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2023-06-04 14:19:35,811 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:19:35,820 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:19:35,821 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:19:35,821 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:19:35,871 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:19:35,871 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1102 ms
2023-06-04 14:19:35,898 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:19:36,070 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:19:36,072 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:19:36,085 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:19:36,192 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:19:36,193 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:19:36,193 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:19:36,195 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:19:36,196 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:19:36,196 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:19:36,196 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:19:36,196 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:19:36,197 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:19:36,199 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:19:36,199 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:19:36,200 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:19:36,200 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:19:36,201 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:19:36,203 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:19:36,203 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:19:36,209 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:19:36,209 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:19:36,238 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:19:36,239 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:19:36,239 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:19:36,247 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:19:36,256 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:19:36,269 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:19:36,269 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:19:36,271 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:19:36,275 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.018s)
2023-06-04 14:19:36,277 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:19:36,282 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:19:36,285 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:19:36,291 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:19:36,291 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:19:36,292 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:19:36,298 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:36,298 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:19:36,300 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:36,300 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:19:36,305 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:19:36,305 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:19:36,307 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:19:36,310 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:19:36,311 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:19:36,312 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:19:36,313 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:36,314 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:19:36,316 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:19:36,320 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:19:36,322 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:19:36,322 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:19:36,323 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:19:36,323 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:19:36,328 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:19:36,328 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:19:36,329 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:19:36,332 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.029s)
2023-06-04 14:19:36,333 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 88M
2023-06-04 14:19:36,415 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:19:36,482 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:19:36,484 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:19:36,647 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:19:36,806 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:19:36,844 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:19:37,047 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:19:37,707 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:19:37,730 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:19:37,772 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:19:38,163 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:19:38,182 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:19:38,201 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:19:38,211 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.787 seconds (process running for 4.512)
2023-06-04 14:20:29,688 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:20:30,076 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:20:30,077 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:20:30,196 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:20:32,177 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10613 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:20:32,180 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:20:32,233 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:20:32,234 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:20:32,807 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:20:32,826 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2023-06-04 14:20:33,376 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:20:33,386 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:20:33,387 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:20:33,387 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:20:33,437 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:20:33,438 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1203 ms
2023-06-04 14:20:33,463 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:20:33,644 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:20:33,645 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:20:33,656 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:20:33,775 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:20:33,776 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:20:33,776 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:20:33,778 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:20:33,779 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:20:33,779 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:20:33,779 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:20:33,779 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:20:33,779 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:20:33,780 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:20:33,780 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:20:33,782 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_role_table.sql
2023-06-04 14:20:33,782 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_user_table.sql
2023-06-04 14:20:33,783 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:20:33,785 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_role_table.sql
2023-06-04 14:20:33,786 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_user_table.sql
2023-06-04 14:20:33,791 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:20:33,791 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:20:33,820 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:20:33,821 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:20:33,821 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:20:33,828 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:20:33,837 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:20:33,850 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_role_table.sql (filename: V1_0_0__create_role_table.sql)
2023-06-04 14:20:33,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_user_table.sql (filename: V1_0_1__create_user_table.sql)
2023-06-04 14:20:33,854 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:20:33,857 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 2 migrations (execution time 00:00.019s)
2023-06-04 14:20:33,859 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:20:33,863 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:20:33,865 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:20:33,873 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:20:33,873 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:20:33,873 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:20:33,880 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:20:33,880 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:20:33,881 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:20:33,882 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:20:33,886 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:20:33,887 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_role_table.sql ...
2023-06-04 14:20:33,889 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:20:33,891 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create role table" ...
2023-06-04 14:20:33,892 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:20:33,893 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:20:33,894 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:20:33,894 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create role table"
2023-06-04 14:20:33,896 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:20:33,902 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_user_table.sql ...
2023-06-04 14:20:33,903 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:20:33,904 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create user table" ...
2023-06-04 14:20:33,904 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:20:33,904 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:20:33,909 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:20:33,909 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create user table"
2023-06-04 14:20:33,911 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:20:33,913 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 2 migrations to schema "PUBLIC", now at version v1.0.1 (execution time 00:00.028s)
2023-06-04 14:20:33,914 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 88M
2023-06-04 14:20:33,992 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:20:34,060 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:20:34,063 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:20:34,220 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:20:34,376 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:20:34,413 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:20:34,614 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:20:35,269 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:20:35,290 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:20:35,333 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:20:35,722 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:20:35,740 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:20:35,758 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:20:35,769 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.913 seconds (process running for 4.668)
2023-06-04 14:31:58,691 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:31:59,046 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:31:59,048 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:31:59,171 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:32:02,867 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10866 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:32:02,869 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:32:02,921 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:32:02,922 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:32:03,500 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:32:03,521 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2023-06-04 14:32:04,136 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:32:04,146 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:32:04,147 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:32:04,147 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:32:04,195 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:32:04,196 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1274 ms
2023-06-04 14:32:04,222 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:32:04,408 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:32:04,410 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:32:04,420 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:32:04,543 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:32:04,544 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:32:04,546 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:32:04,549 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:32:04,549 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:32:04,549 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:32:04,549 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:32:04,549 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 14:32:04,549 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:32:04,550 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:32:04,550 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:32:04,551 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:32:04,552 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:32:04,552 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:32:04,552 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:32:04,554 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:32:04,555 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:32:04,555 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:32:04,560 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:32:04,560 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:32:04,589 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:32:04,590 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:32:04,591 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:32:04,599 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:32:04,606 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:32:04,616 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:32:04,617 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:32:04,617 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:32:04,619 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:32:04,621 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 3 migrations (execution time 00:00.013s)
2023-06-04 14:32:04,627 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:32:04,631 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:32:04,634 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:32:04,644 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:32:04,644 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:32:04,645 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:32:04,652 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:04,652 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:32:04,654 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:04,654 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:32:04,659 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:32:04,659 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:32:04,661 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:04,661 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm')
2023-06-04 14:32:04,661 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (2, 'write', 'the write perm')
2023-06-04 14:32:04,661 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (2, 'catalog', 'the catalog perm')
2023-06-04 14:32:04,663 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:32:04,664 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:32:04,665 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:04,666 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:04,667 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm')
2023-06-04 14:32:04,672 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 14:32:04,672 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 14:32:04,672 ERROR [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:45] Migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" failed! Please restore backups and roll back database and code!
2023-06-04 14:32:04,674 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:32:04,676 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 21 of 68M
2023-06-04 14:32:04,677 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "PERMISSION_ROLE_ID" not found; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm') [42122-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 8
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm')

2023-06-04 14:32:04,677 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:32:04,679 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:32:04,682 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:32:04,693 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:32:04,717 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "PERMISSION_ROLE_ID" not found; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm') [42122-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 8
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "PERMISSION_ROLE_ID" not found; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm') [42122-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 8
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:142)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:142)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:99)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "PERMISSION_ROLE_ID" not found; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm') [42122-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 8
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "PERMISSION_ROLE_ID" not found; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION, PERMISSION_ROLE_ID) VALUES (1, 'read', 'the read perm') [42122-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Table.getColumn(Table.java:749)
	at org.h2.command.Parser.parseColumn(Parser.java:1256)
	at org.h2.command.Parser.parseColumnList(Parser.java:1241)
	at org.h2.command.Parser.parseInsert(Parser.java:1641)
	at org.h2.command.Parser.parsePrepared(Parser.java:814)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 45 common frames omitted
2023-06-04 14:32:35,642 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10877 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:32:35,644 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:32:35,690 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:32:35,690 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:32:36,229 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:32:36,248 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2023-06-04 14:32:36,781 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:32:36,789 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:32:36,789 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:32:36,790 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:32:36,837 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:32:36,837 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1146 ms
2023-06-04 14:32:36,861 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:32:37,033 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:32:37,036 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:32:37,047 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:32:37,158 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:32:37,158 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:32:37,159 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:32:37,162 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:32:37,163 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:32:37,163 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:32:37,163 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:32:37,163 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:32:37,164 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:32:37,165 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:32:37,165 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:32:37,166 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:32:37,166 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:32:37,166 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:32:37,166 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:32:37,169 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:32:37,170 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:32:37,170 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:32:37,175 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:32:37,175 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:32:37,205 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:32:37,206 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:32:37,206 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:32:37,216 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:32:37,223 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:32:37,233 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:32:37,234 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:32:37,234 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:32:37,236 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:32:37,239 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 3 migrations (execution time 00:00.014s)
2023-06-04 14:32:37,245 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:32:37,250 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:32:37,253 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:32:37,262 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:32:37,262 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:32:37,262 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:32:37,269 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:37,269 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:32:37,271 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:37,271 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:32:37,276 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:32:37,276 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:32:37,278 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:37,279 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:32:37,279 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:32:37,279 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm')
2023-06-04 14:32:37,282 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:32:37,284 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:32:37,285 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:37,286 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:37,286 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:32:37,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:37,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:32:37,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:37,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm')
2023-06-04 14:32:37,292 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 14:32:37,292 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 14:32:37,292 ERROR [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:45] Migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" failed! Please restore backups and roll back database and code!
2023-06-04 14:32:37,295 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:32:37,296 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 22 of 88M
2023-06-04 14:32:37,297 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 23505
Message    : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.PERMISSION(ID) ( /* key:2 */ 2, 'write', 'the write perm')"; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm') [23505-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 12
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm')

2023-06-04 14:32:37,297 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:32:37,300 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:32:37,302 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:32:37,313 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:32:37,332 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 23505
Message    : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.PERMISSION(ID) ( /* key:2 */ 2, 'write', 'the write perm')"; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm') [23505-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 12
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 23505
Message    : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.PERMISSION(ID) ( /* key:2 */ 2, 'write', 'the write perm')"; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm') [23505-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 12
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:142)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:142)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:99)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1_0_0__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 23505
Message    : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.PERMISSION(ID) ( /* key:2 */ 2, 'write', 'the write perm')"; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm') [23505-214]
Location   : db/migration/V1_0_0__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_0__create_permission_table.sql)
Line       : 12
Statement  : INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.PERMISSION(ID) ( /* key:2 */ 2, 'write', 'the write perm')"; SQL statement:
INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'catalog', 'the catalog perm') [23505-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:120)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)
	at org.h2.command.dml.Insert.insertRows(Insert.java:174)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 45 common frames omitted
2023-06-04 14:32:57,067 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 10886 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:32:57,070 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:32:57,117 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:32:57,117 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:32:57,652 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:32:57,670 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2023-06-04 14:32:58,198 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:32:58,205 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:32:58,206 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:32:58,206 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:32:58,253 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:32:58,254 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1137 ms
2023-06-04 14:32:58,281 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:32:58,453 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:32:58,455 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:32:58,468 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:32:58,579 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:32:58,580 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:32:58,581 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:32:58,584 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:32:58,584 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:32:58,584 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:32:58,584 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:32:58,584 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:32:58,584 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:32:58,585 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:32:58,586 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:32:58,587 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:32:58,587 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:32:58,587 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:32:58,587 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:32:58,590 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:32:58,590 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:32:58,590 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:32:58,597 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:32:58,597 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:32:58,626 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:32:58,627 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:32:58,627 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:32:58,636 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:32:58,644 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:32:58,654 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:32:58,655 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:32:58,655 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:32:58,657 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:32:58,659 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 3 migrations (execution time 00:00.014s)
2023-06-04 14:32:58,667 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:32:58,670 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:32:58,673 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:32:58,682 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:32:58,682 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:32:58,683 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:32:58,689 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:58,689 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:32:58,691 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:58,691 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:32:58,696 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:32:58,697 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:32:58,699 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:58,700 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:32:58,700 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:32:58,700 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:32:58,702 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:32:58,703 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:32:58,704 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:58,705 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:58,705 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:32:58,706 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:58,706 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:32:58,706 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:58,706 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:32:58,707 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:58,707 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:32:58,708 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:32:58,712 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 14:32:58,714 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:58,715 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:32:58,715 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:32:58,715 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 14:32:58,716 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:32:58,716 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:32:58,717 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:58,717 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:32:58,717 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:58,717 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:32:58,718 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:32:58,718 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:32:58,719 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:32:58,721 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 14:32:58,722 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:32:58,722 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 14:32:58,723 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:32:58,723 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:32:58,728 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:32:58,728 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:32:58,729 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:32:58,731 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 3 migrations to schema "PUBLIC", now at version v1.0.3 (execution time 00:00.037s)
2023-06-04 14:32:58,732 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 88M
2023-06-04 14:32:58,811 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:32:58,877 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:32:58,880 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:32:59,038 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:32:59,195 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:32:59,233 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:32:59,438 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:33:00,115 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:33:00,137 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:33:00,178 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:33:00,574 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:33:00,592 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:33:00,613 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:33:00,623 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.863 seconds (process running for 4.551)
2023-06-04 14:46:53,857 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:46:54,218 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:46:54,219 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:46:54,343 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:46:58,458 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11188 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:46:58,461 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:46:58,511 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:46:58,511 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:46:59,145 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:46:59,165 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2023-06-04 14:46:59,739 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:46:59,747 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:46:59,748 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:46:59,748 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:46:59,799 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:46:59,799 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1287 ms
2023-06-04 14:46:59,826 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:47:00,017 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:47:00,019 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:47:00,031 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:47:00,158 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:47:00,158 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:47:00,158 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:47:00,161 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:47:00,161 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:47:00,161 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:47:00,161 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:47:00,161 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:47:00,161 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:47:00,162 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:47:00,162 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:47:00,163 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:47:00,164 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:47:00,164 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:47:00,164 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 14:47:00,164 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:47:00,167 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:47:00,169 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 14:47:00,169 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:47:00,169 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:47:00,174 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:47:00,174 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:47:00,205 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:47:00,206 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:47:00,206 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:47:00,213 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:47:00,222 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:47:00,233 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:47:00,233 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 14:47:00,233 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:47:00,233 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:47:00,237 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:47:00,240 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 14:47:00,246 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:47:00,250 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:47:00,253 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:47:00,261 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:47:00,262 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:47:00,262 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:47:00,270 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:47:00,271 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:47:00,272 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:47:00,273 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:47:00,278 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:47:00,278 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:47:00,279 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:47:00,280 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:47:00,281 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:47:00,281 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:47:00,283 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:47:00,284 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:47:00,285 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:47:00,286 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:47:00,286 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:47:00,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:47:00,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:47:00,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:47:00,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:47:00,287 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:47:00,287 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:47:00,289 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:47:00,293 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 14:47:00,295 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:47:00,296 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:47:00,296 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:47:00,296 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 14:47:00,297 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:47:00,297 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:47:00,298 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:47:00,298 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:47:00,298 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:47:00,298 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:47:00,299 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:47:00,299 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:47:00,300 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:47:00,302 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 14:47:00,303 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:47:00,303 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 14:47:00,304 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:47:00,304 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:47:00,310 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:47:00,310 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:47:00,312 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:47:00,314 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 14:47:00,315 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:47:00,316 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 14:47:00,316 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:47:00,316 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:47:00,319 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:47:00,320 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:47:00,321 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:47:00,323 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.048s)
2023-06-04 14:47:00,324 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 68M
2023-06-04 14:47:00,407 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:47:00,472 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:47:00,475 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:47:00,625 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:47:00,780 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:47:00,823 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:47:01,051 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:47:01,780 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:47:01,806 ERROR [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:426] Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [permission_id] in table [ROLE_PERMISSION]
2023-06-04 14:47:01,806 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [permission_id] in table [ROLE_PERMISSION]
2023-06-04 14:47:02,013 WARN [restartedMain] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:47:02,014 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:47:02,018 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:47:02,019 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:47:02,030 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:47:02,052 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [permission_id] in table [ROLE_PERMISSION]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [permission_id] in table [ROLE_PERMISSION]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [permission_id] in table [ROLE_PERMISSION]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:293)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:291)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2023-06-04 14:48:09,748 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11211 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:48:09,750 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:48:09,800 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:48:09,800 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:48:10,354 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:48:10,372 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2023-06-04 14:48:10,912 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:48:10,920 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:48:10,921 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:48:10,922 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:48:10,968 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:48:10,969 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1168 ms
2023-06-04 14:48:10,994 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:48:11,171 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:48:11,173 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:48:11,183 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:48:11,297 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:48:11,298 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:48:11,298 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:48:11,300 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:48:11,300 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:48:11,301 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:48:11,301 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:48:11,301 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:48:11,302 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:48:11,304 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:48:11,304 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:48:11,306 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:48:11,306 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:48:11,306 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:48:11,306 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 14:48:11,306 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:48:11,308 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:48:11,309 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 14:48:11,310 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:48:11,310 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:48:11,314 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:48:11,315 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:48:11,344 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:48:11,345 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:48:11,345 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:48:11,353 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:48:11,361 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:48:11,371 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:48:11,371 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 14:48:11,371 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:48:11,371 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:48:11,373 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:48:11,376 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.014s)
2023-06-04 14:48:11,382 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:48:11,388 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:48:11,391 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:48:11,400 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:48:11,400 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:48:11,401 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:48:11,408 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:48:11,408 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:48:11,409 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:48:11,410 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:48:11,415 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:48:11,416 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:48:11,417 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:48:11,418 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:48:11,420 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:48:11,420 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:48:11,422 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:48:11,423 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:48:11,424 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:48:11,425 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:48:11,425 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:48:11,426 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:48:11,426 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:48:11,426 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:48:11,426 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:48:11,427 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:48:11,427 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:48:11,429 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:48:11,432 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 14:48:11,434 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:48:11,435 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:48:11,435 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:48:11,436 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 14:48:11,436 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:48:11,437 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:48:11,437 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:48:11,438 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:48:11,438 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:48:11,438 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:48:11,438 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:48:11,438 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:48:11,440 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:48:11,442 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 14:48:11,443 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:48:11,444 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 14:48:11,444 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:48:11,445 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:48:11,449 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:48:11,449 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:48:11,451 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:48:11,453 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 14:48:11,454 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:48:11,454 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 14:48:11,454 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:48:11,454 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:48:11,460 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:48:11,460 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:48:11,461 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:48:11,463 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.051s)
2023-06-04 14:48:11,465 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 68M
2023-06-04 14:48:11,532 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:48:11,576 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:48:11,578 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:48:11,701 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:48:11,822 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:48:11,854 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:48:12,047 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:48:12,106 ERROR [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:426] Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for collection: eafcanghel.pcshop.security.entity.Role.permissions column: ROLE_PERMISSION_PERMISSION_ID
2023-06-04 14:48:12,107 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for collection: eafcanghel.pcshop.security.entity.Role.permissions column: ROLE_PERMISSION_PERMISSION_ID
2023-06-04 14:48:12,313 WARN [restartedMain] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:48:12,314 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:48:12,317 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:48:12,320 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 14:48:12,331 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 14:48:12,349 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for collection: eafcanghel.pcshop.security.entity.Role.permissions column: ROLE_PERMISSION_PERMISSION_ID
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for collection: eafcanghel.pcshop.security.entity.Role.permissions column: ROLE_PERMISSION_PERMISSION_ID
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
Caused by: org.hibernate.MappingException: Repeated column in mapping for collection: eafcanghel.pcshop.security.entity.Role.permissions column: ROLE_PERMISSION_PERMISSION_ID
	at org.hibernate.mapping.Collection.checkColumnDuplication(Collection.java:410)
	at org.hibernate.mapping.Collection.checkColumnDuplication(Collection.java:434)
	at org.hibernate.mapping.Collection.validate(Collection.java:392)
	at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:510)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:250)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2023-06-04 14:49:19,743 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11234 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:49:19,745 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:49:19,792 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:49:19,792 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:49:20,332 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:49:20,351 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2023-06-04 14:49:20,875 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:49:20,882 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:49:20,883 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:49:20,883 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:49:20,930 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:49:20,931 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1138 ms
2023-06-04 14:49:20,957 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:49:21,132 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:49:21,134 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:49:21,144 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:49:21,261 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:49:21,261 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:49:21,261 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:49:21,264 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:49:21,264 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:49:21,264 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:49:21,264 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:49:21,264 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:49:21,264 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:49:21,265 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:49:21,265 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:49:21,266 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:49:21,267 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:49:21,267 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:49:21,267 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 14:49:21,267 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:49:21,270 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:49:21,272 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 14:49:21,272 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:49:21,272 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:49:21,278 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:49:21,278 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:49:21,308 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:49:21,309 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:49:21,310 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:49:21,317 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:49:21,326 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:49:21,335 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:49:21,335 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 14:49:21,336 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:49:21,337 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:49:21,340 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:49:21,343 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 14:49:21,345 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:49:21,349 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:49:21,351 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:49:21,358 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:49:21,359 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:49:21,359 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:49:21,372 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:49:21,372 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:49:21,374 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:49:21,374 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:49:21,381 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:49:21,382 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:49:21,383 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:49:21,384 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:49:21,385 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:49:21,385 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:49:21,387 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:49:21,388 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:49:21,389 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:49:21,390 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:49:21,390 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:49:21,391 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:49:21,391 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:49:21,392 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:49:21,393 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:49:21,393 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:49:21,393 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:49:21,395 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:49:21,399 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 14:49:21,400 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:49:21,401 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:49:21,402 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:49:21,402 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 14:49:21,402 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:49:21,403 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:49:21,404 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:49:21,404 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:49:21,404 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:49:21,404 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:49:21,405 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:49:21,405 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:49:21,406 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:49:21,408 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 14:49:21,409 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:49:21,409 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 14:49:21,410 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:49:21,410 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:49:21,414 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:49:21,415 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:49:21,416 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:49:21,417 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 14:49:21,419 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:49:21,419 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 14:49:21,419 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:49:21,419 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:49:21,422 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:49:21,422 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:49:21,424 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:49:21,426 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.049s)
2023-06-04 14:49:21,427 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 88M
2023-06-04 14:49:21,498 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:49:21,541 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:49:21,543 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:49:21,667 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:49:21,790 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:49:21,817 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:49:22,001 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:49:22,586 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:49:22,606 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:49:22,648 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:49:23,040 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:49:23,057 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:49:23,076 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:49:23,085 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.66 seconds (process running for 4.398)
2023-06-04 14:54:03,684 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:54:04,076 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:54:04,077 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:54:04,200 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:54:07,615 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11324 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:54:07,618 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:54:07,667 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:54:07,667 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:54:08,268 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:54:08,290 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2023-06-04 14:54:08,863 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:54:08,874 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:54:08,874 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:54:08,875 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:54:08,927 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:54:08,928 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1259 ms
2023-06-04 14:54:08,952 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:54:09,147 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:54:09,148 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:54:09,160 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:54:09,290 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:54:09,290 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:54:09,290 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:54:09,293 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:54:09,293 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:54:09,293 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:54:09,293 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:54:09,293 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 14:54:09,294 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:54:09,294 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:54:09,295 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:54:09,296 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:54:09,296 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:54:09,296 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:54:09,296 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 14:54:09,296 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:54:09,299 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:54:09,299 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 14:54:09,299 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:54:09,300 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:54:09,306 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:54:09,307 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:54:09,336 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:54:09,338 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:54:09,338 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:54:09,346 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:54:09,355 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:54:09,366 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:54:09,366 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 14:54:09,366 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:54:09,367 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:54:09,369 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:54:09,373 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 14:54:09,379 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:54:09,383 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:54:09,385 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:54:09,396 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:54:09,397 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:54:09,398 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:54:09,406 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:54:09,406 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:54:09,407 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:54:09,408 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:54:09,412 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:54:09,413 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:54:09,414 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:54:09,415 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:54:09,415 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:54:09,415 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:54:09,416 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:54:09,417 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:54:09,418 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:54:09,420 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:54:09,421 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:54:09,422 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,422 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:54:09,422 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,422 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:54:09,423 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,423 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:54:09,425 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:54:09,429 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 14:54:09,430 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:54:09,431 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:54:09,431 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:54:09,431 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 14:54:09,432 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:54:09,432 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:54:09,433 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:54:09,433 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:54:09,433 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,433 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:54:09,433 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,434 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:54:09,435 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:54:09,439 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 14:54:09,440 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:54:09,441 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 14:54:09,441 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:54:09,441 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:54:09,446 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:54:09,446 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:54:09,447 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:54:09,449 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 14:54:09,450 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:54:09,450 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 15: ---ADMIN PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
    VALUES (1,1, 1 )
2023-06-04 14:54:09,450 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 17: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (2,1, 2 )
2023-06-04 14:54:09,450 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 19: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (3,1, 3 )
2023-06-04 14:54:09,451 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 23: ---USER PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (4,2, 1 )
2023-06-04 14:54:09,451 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 25: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (5,2, 3 )
2023-06-04 14:54:09,451 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 14:54:09,451 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:54:09,452 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_ROLE_ID
        foreign key (ROLE_PERMISSION_ROLE_ID) references
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL ,
    constraint FK_ROLE_PERMISSION_PERMISSION_ID
        foreign key (ROLE_PERMISSION_PERMISSION_ID) references
            PERMISSION (ID)
)
2023-06-04 14:54:09,457 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:54:09,457 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: ---ADMIN PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
    VALUES (1,1, 1 )
2023-06-04 14:54:09,457 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,457 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (2,1, 2 )
2023-06-04 14:54:09,458 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,458 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (3,1, 3 )
2023-06-04 14:54:09,458 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,458 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: ---USER PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (4,2, 1 )
2023-06-04 14:54:09,459 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,459 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID,  ROLE_PERMISSION_PERMISSION_ID)
VALUES (5,2, 3 )
2023-06-04 14:54:09,459 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:54:09,459 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:54:09,461 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:54:09,463 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.052s)
2023-06-04 14:54:09,464 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 23 of 88M
2023-06-04 14:54:09,540 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:54:09,598 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:54:09,600 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:54:09,733 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:54:09,885 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:54:09,924 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:54:10,177 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:54:10,849 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:54:10,869 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:54:10,911 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:54:11,294 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:54:11,313 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:54:11,332 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:54:11,341 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.058 seconds (process running for 4.903)
2023-06-04 14:59:25,476 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:59:25,867 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 14:59:25,868 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 14:59:25,993 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 14:59:29,937 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11479 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 14:59:29,939 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 14:59:29,988 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 14:59:29,989 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 14:59:30,614 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 14:59:30,679 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 55 ms. Found 3 JPA repository interfaces.
2023-06-04 14:59:31,246 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 14:59:31,256 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 14:59:31,257 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 14:59:31,257 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 14:59:31,306 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 14:59:31,307 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1317 ms
2023-06-04 14:59:31,333 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 14:59:31,519 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 14:59:31,520 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 14:59:31,532 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 14:59:31,653 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 14:59:31,654 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 14:59:31,654 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 14:59:31,657 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 14:59:31,657 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:59:31,657 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 14:59:31,657 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 14:59:31,657 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 14:59:31,657 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 14:59:31,658 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 14:59:31,658 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 14:59:31,660 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table.sql
2023-06-04 14:59:31,660 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 14:59:31,660 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 14:59:31,660 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 14:59:31,660 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 14:59:31,662 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 14:59:31,663 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 14:59:31,663 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table.sql
2023-06-04 14:59:31,664 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 14:59:31,669 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 14:59:31,670 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 14:59:31,703 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 14:59:31,705 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 14:59:31,705 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 14:59:31,714 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 14:59:31,723 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 14:59:31,734 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 14:59:31,734 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 14:59:31,734 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table.sql (filename: V1_0_0__create_permission_table.sql)
2023-06-04 14:59:31,734 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 14:59:31,736 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 14:59:31,739 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.014s)
2023-06-04 14:59:31,743 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 14:59:31,746 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 14:59:31,748 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 14:59:31,755 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:59:31,755 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:59:31,756 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 14:59:31,762 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:59:31,762 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 14:59:31,764 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:59:31,764 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 14:59:31,769 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 14:59:31,770 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table.sql ...
2023-06-04 14:59:31,771 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:59:31,772 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:59:31,773 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:59:31,774 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:59:31,776 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table" ...
2023-06-04 14:59:31,778 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:59:31,779 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:59:31,780 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:59:31,780 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 14:59:31,780 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,780 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 14:59:31,781 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,781 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 14:59:31,781 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,781 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create PERMISSION table"
2023-06-04 14:59:31,783 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:59:31,787 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 14:59:31,789 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:59:31,790 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 7: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:59:31,790 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 9: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:59:31,790 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 14:59:31,791 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:59:31,791 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 14:59:31,792 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:59:31,792 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (1, 'admin', 'the admin role')
2023-06-04 14:59:31,792 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,792 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE (ID, NAME, DESCRIPTION)
VALUES (2, 'user', 'the user role')
2023-06-04 14:59:31,793 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,793 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 14:59:31,794 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:59:31,796 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 14:59:31,797 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:59:31,797 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 14:59:31,798 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:59:31,798 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 14:59:31,803 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:59:31,803 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 14:59:31,804 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:59:31,806 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 14:59:31,807 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 14:59:31,808 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 15: ---ADMIN PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (1, 1, 1)
2023-06-04 14:59:31,809 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 17: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (2, 1, 2)
2023-06-04 14:59:31,809 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 19: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (3, 1, 3)
2023-06-04 14:59:31,810 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 23: ---USER PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (4, 2, 1)
2023-06-04 14:59:31,810 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 25: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (5, 2, 3)
2023-06-04 14:59:31,810 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 14:59:31,810 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:59:31,811 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 14:59:31,813 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 14:59:31,814 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: ---ADMIN PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (1, 1, 1)
2023-06-04 14:59:31,814 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,814 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (2, 1, 2)
2023-06-04 14:59:31,815 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,815 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (3, 1, 3)
2023-06-04 14:59:31,815 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,815 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: ---USER PERMS
INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (4, 2, 1)
2023-06-04 14:59:31,816 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,816 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO ROLE_PERMISSION(ID, ROLE_PERMISSION_ROLE_ID, ROLE_PERMISSION_PERMISSION_ID)
VALUES (5, 2, 3)
2023-06-04 14:59:31,816 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 14:59:31,816 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 14:59:31,818 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 14:59:31,820 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.052s)
2023-06-04 14:59:31,821 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 68M
2023-06-04 14:59:31,894 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 14:59:31,949 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 14:59:31,951 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 14:59:32,090 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:59:32,229 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 14:59:32,262 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 14:59:32,475 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 14:59:33,136 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 14:59:33,157 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 14:59:33,199 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 14:59:33,827 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 14:59:33,845 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 14:59:33,864 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 14:59:33,873 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.304 seconds (process running for 5.215)
2023-06-04 15:08:20,605 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:08:20,995 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:08:20,996 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:08:21,122 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:08:24,314 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11756 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:08:24,318 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:08:24,362 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:08:24,362 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:08:24,936 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:08:24,996 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2023-06-04 15:08:25,567 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:08:25,575 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:08:25,576 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:08:25,576 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:08:25,625 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:08:25,626 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1263 ms
2023-06-04 15:08:25,652 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:08:25,850 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:08:25,852 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:08:25,862 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:08:25,988 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:08:25,988 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:08:25,988 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:08:25,991 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:08:25,991 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 15:08:25,991 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:08:25,992 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:08:25,992 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 15:08:25,992 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:08:25,993 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:08:25,993 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:08:25,995 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_0__create_permission_table_Alex-MacBook-Pro.local_Jun-04-150112-2023_CaseConflict.sql
2023-06-04 15:08:25,995 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:08:25,995 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:08:25,995 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:08:25,996 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:08:25,996 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:08:26,000 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:08:26,000 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:08:26,001 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:08:26,001 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_0__create_permission_table_Alex-MacBook-Pro.local_Jun-04-150112-2023_CaseConflict.sql
2023-06-04 15:08:26,001 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:08:26,006 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:08:26,006 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:08:26,043 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:08:26,044 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:08:26,044 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:08:26,055 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:08:26,063 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:08:26,074 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:08:26,074 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:08:26,074 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:08:26,074 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_0__create_permission_table_Alex-MacBook-Pro.local_Jun-04-150112-2023_CaseConflict.sql (filename: V1_0_0__create_permission_table_Alex-MacBook-Pro.local_Jun-04-150112-2023_CaseConflict.sql)
2023-06-04 15:08:26,074 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:08:26,077 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:08:26,079 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 5 migrations (execution time 00:00.014s)
2023-06-04 15:08:26,082 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:08:26,087 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:08:26,089 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:08:26,096 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:08:26,096 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:08:26,097 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:08:26,103 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:26,103 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:08:26,105 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:26,105 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:08:26,110 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:08:26,110 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_0__create_permission_table_Alex-MacBook-Pro.local_Jun-04-150112-2023_CaseConflict.sql ...
2023-06-04 15:08:26,112 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:26,113 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 8: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 15:08:26,113 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 10: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 15:08:26,113 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 12: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 15:08:26,115 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.0 - create permission table Alex-MacBook-Pro.local Jun-04-150112-2023 CaseConflict" ...
2023-06-04 15:08:26,116 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.0 - create permission table Alex-MacBook-Pro.local Jun-04-150112-2023 CaseConflict"
2023-06-04 15:08:26,117 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:26,118 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:26,118 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (1, 'read', 'the read perm')
2023-06-04 15:08:26,119 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 15:08:26,119 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (2, 'write', 'the write perm')
2023-06-04 15:08:26,119 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 15:08:26,119 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: INSERT INTO PERMISSION (ID, NAME, DESCRIPTION)
VALUES (3, 'catalog', 'the catalog perm')
2023-06-04 15:08:26,119 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 1 row affected
2023-06-04 15:08:26,119 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.0 - create permission table Alex-MacBook-Pro.local Jun-04-150112-2023 CaseConflict"
2023-06-04 15:08:26,121 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:08:26,125 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:08:26,127 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:26,127 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:08:26,127 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:08:26,128 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:26,132 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Rolling back transaction...
2023-06-04 15:08:26,132 DEBUG [restartedMain] o.f.c.i.j.TransactionalExecutionTemplate [Slf4jLog.java:33] Transaction rolled back
2023-06-04 15:08:26,132 ERROR [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:45] Migration of schema "PUBLIC" to version "1.0.1 - create permission table" failed! Please restore backups and roll back database and code!
2023-06-04 15:08:26,134 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:08:26,135 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 24 of 80M
2023-06-04 15:08:26,136 WARN [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:616] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_1__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S01
Error Code : 42101
Message    : Table "PERMISSION" already exists; SQL statement:
CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
) [42101-214]
Location   : db/migration/V1_0_1__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_permission_table.sql)
Line       : 1
Statement  : CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)

2023-06-04 15:08:26,136 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:08:26,138 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:08:26,141 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2023-06-04 15:08:26,154 INFO [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-04 15:08:26,172 ERROR [restartedMain] o.s.b.SpringApplication [SpringApplication.java:823] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1_0_1__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S01
Error Code : 42101
Message    : Table "PERMISSION" already exists; SQL statement:
CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
) [42101-214]
Location   : db/migration/V1_0_1__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_permission_table.sql)
Line       : 1
Statement  : CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at eafcanghel.pcshop.PcShopApplication.main(PcShopApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1_0_1__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S01
Error Code : 42101
Message    : Table "PERMISSION" already exists; SQL statement:
CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
) [42101-214]
Location   : db/migration/V1_0_1__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_permission_table.sql)
Line       : 1
Statement  : CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:142)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:142)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:99)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1_0_1__create_permission_table.sql failed
----------------------------------------------------
SQL State  : 42S01
Error Code : 42101
Message    : Table "PERMISSION" already exists; SQL statement:
CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
) [42101-214]
Location   : db/migration/V1_0_1__create_permission_table.sql (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration/V1_0_1__create_permission_table.sql)
Line       : 1
Statement  : CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "PERMISSION" already exists; SQL statement:
CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
) [42101-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:91)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 45 common frames omitted
2023-06-04 15:08:45,185 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 11770 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:08:45,187 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:08:45,238 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:08:45,239 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:08:45,786 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:08:45,837 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2023-06-04 15:08:46,382 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:08:46,390 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:08:46,390 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:08:46,391 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:08:46,437 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:08:46,438 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1199 ms
2023-06-04 15:08:46,462 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:08:46,635 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:08:46,637 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:08:46,648 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:08:46,760 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:08:46,761 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:08:46,761 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:08:46,763 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:08:46,764 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 15:08:46,764 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:08:46,764 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:08:46,764 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 15:08:46,765 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:08:46,767 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:08:46,767 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:08:46,768 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:08:46,769 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:08:46,769 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:08:46,769 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:08:46,769 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:08:46,771 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:08:46,772 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:08:46,772 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:08:46,772 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:08:46,778 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:08:46,778 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:08:46,811 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:08:46,814 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:08:46,814 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:08:46,823 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:08:46,832 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:08:46,841 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:08:46,842 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:08:46,842 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:08:46,842 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:08:46,844 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:08:46,847 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.013s)
2023-06-04 15:08:46,849 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:08:46,852 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:08:46,854 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:08:46,863 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:08:46,863 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:08:46,864 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:08:46,870 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:46,870 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:08:46,872 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:46,872 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:08:46,878 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:08:46,879 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:08:46,880 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:46,882 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:08:46,883 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:08:46,884 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:46,886 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:46,886 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:08:46,888 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:08:46,892 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:08:46,893 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:46,893 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:08:46,894 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:08:46,894 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:08:46,895 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:46,895 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:08:46,897 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:08:46,899 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:08:46,900 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:08:46,900 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:08:46,901 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:08:46,901 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:08:46,907 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:46,907 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:08:46,909 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:08:46,910 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:08:46,912 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:08:46,913 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:08:46,913 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:08:46,914 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:08:46,916 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:08:46,917 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:08:46,918 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:08:46,920 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.045s)
2023-06-04 15:08:46,922 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 15:08:46,990 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:08:47,045 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:08:47,047 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:08:47,178 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:08:47,317 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:08:47,354 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:08:47,566 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:08:48,208 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:08:48,227 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:08:48,269 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:08:48,879 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:08:48,897 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:08:48,918 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:08:48,927 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.07 seconds (process running for 4.75)
2023-06-04 15:31:19,493 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:31:19,868 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:31:19,869 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:31:19,997 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:31:25,101 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12215 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:31:25,104 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:31:25,154 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:31:25,154 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:31:25,741 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:31:25,800 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2023-06-04 15:31:26,367 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:31:26,376 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:31:26,376 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:31:26,377 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:31:26,426 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:31:26,426 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1271 ms
2023-06-04 15:31:26,452 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:31:26,635 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:31:26,636 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:31:26,646 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:31:26,770 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:31:26,770 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:31:26,770 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:31:26,772 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:31:26,773 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 15:31:26,773 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:31:26,773 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:31:26,773 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 15:31:26,773 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:31:26,774 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:31:26,774 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:31:26,775 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:31:26,776 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:31:26,776 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:31:26,776 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:31:26,776 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:31:26,778 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:31:26,780 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:31:26,781 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:31:26,781 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:31:26,786 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:31:26,786 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:31:26,820 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:31:26,821 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:31:26,822 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:31:26,830 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:31:26,838 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:31:26,849 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:31:26,850 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:31:26,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:31:26,852 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:31:26,854 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:31:26,857 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 15:31:26,859 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:31:26,862 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:31:26,864 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:31:26,871 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:31:26,872 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:31:26,872 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:31:26,878 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:31:26,878 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:31:26,881 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:31:26,882 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:31:26,887 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:31:26,887 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:31:26,889 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:31:26,890 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:31:26,891 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:31:26,892 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:31:26,893 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:31:26,894 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:31:26,896 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:31:26,900 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:31:26,902 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:31:26,902 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:31:26,903 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:31:26,903 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:31:26,904 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:31:26,904 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:31:26,905 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:31:26,907 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:31:26,909 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:31:26,909 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:31:26,910 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:31:26,910 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:31:26,916 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:31:26,916 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:31:26,917 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:31:26,919 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:31:26,921 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:31:26,921 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:31:26,922 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:31:26,922 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:31:26,925 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:31:26,925 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:31:26,926 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:31:26,929 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.044s)
2023-06-04 15:31:26,930 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 68M
2023-06-04 15:31:27,002 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:31:27,056 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:31:27,058 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:31:27,190 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:31:27,327 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:31:27,360 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:31:27,568 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:31:28,220 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:31:28,239 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:31:28,551 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:31:28,913 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:31:28,932 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:31:28,950 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:31:28,959 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.206 seconds (process running for 5.017)
2023-06-04 15:37:02,362 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:37:02,712 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:37:02,713 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:37:02,843 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:37:06,523 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12315 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:37:06,527 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:37:06,574 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:37:06,574 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:37:07,194 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:37:07,252 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2023-06-04 15:37:07,817 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:37:07,826 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:37:07,827 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:37:07,828 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:37:07,877 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:37:07,877 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1301 ms
2023-06-04 15:37:07,902 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:37:08,092 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:37:08,094 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:37:08,104 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:37:08,233 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:37:08,233 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:37:08,234 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:37:08,237 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:37:08,237 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 15:37:08,237 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:37:08,237 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:37:08,237 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 15:37:08,237 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:37:08,238 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:37:08,239 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:37:08,240 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:37:08,240 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:37:08,240 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:37:08,240 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:37:08,240 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:37:08,244 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:37:08,245 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:37:08,245 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:37:08,245 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:37:08,250 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:37:08,251 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:37:08,288 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:37:08,292 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:37:08,293 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:37:08,301 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:37:08,311 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:37:08,322 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:37:08,323 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:37:08,323 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:37:08,323 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:37:08,325 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:37:08,328 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 15:37:08,330 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:37:08,335 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:37:08,337 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:37:08,345 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:37:08,345 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:37:08,346 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:37:08,353 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:37:08,353 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:37:08,354 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:37:08,355 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:37:08,359 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:37:08,360 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:37:08,361 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:37:08,363 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:37:08,365 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:37:08,367 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:37:08,368 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:37:08,368 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:37:08,370 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:37:08,374 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:37:08,376 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:37:08,376 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:37:08,377 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:37:08,378 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:37:08,379 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:37:08,379 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:37:08,381 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:37:08,383 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:37:08,385 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:37:08,385 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:37:08,385 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:37:08,386 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:37:08,390 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:37:08,390 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:37:08,391 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:37:08,395 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:37:08,396 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:37:08,397 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:37:08,397 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:37:08,397 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:37:08,400 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:37:08,401 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:37:08,402 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:37:08,404 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.047s)
2023-06-04 15:37:08,405 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 15:37:08,478 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:37:08,535 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:37:08,537 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:37:08,670 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:37:08,805 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:37:08,842 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:37:09,046 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:37:09,687 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:37:09,707 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:37:10,014 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:37:10,371 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:37:10,389 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:37:10,408 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:37:10,418 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.209 seconds (process running for 4.867)
2023-06-04 15:40:14,897 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 15:40:14,995 WARN [http-nio-8090-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 23502, SQLState: 23502
2023-06-04 15:40:14,995 ERROR [http-nio-8090-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] NULL not allowed for column "ID"; SQL statement:
insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default) [23502-214]
2023-06-04 15:40:15,007 WARN [http-nio-8090-exec-1] e.p.s.c.TestController [TestController.java:30] could not execute statement [NULL not allowed for column "ID"; SQL statement:
insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default) [23502-214]] [insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default)]; SQL [insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default)]; constraint [null]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [NULL not allowed for column "ID"; SQL statement:
insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default) [23502-214]] [insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default)]; SQL [insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy122.save(Unknown Source)
	at eafcanghel.pcshop.service.MyDbService.savePermission(MyDbService.java:26)
	at eafcanghel.pcshop.security.controller.TestController.save(TestController.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [NULL not allowed for column "ID"; SQL statement:
insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default) [23502-214]] [insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:101)
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2665)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:659)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:289)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:270)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:328)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:360)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:274)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)
	at jdk.proxy4/jdk.proxy4.$Proxy113.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy4/jdk.proxy4.$Proxy113.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:637)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 57 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column "ID"; SQL statement:
insert into PERMISSION (DESCRIPTION,NAME,id) values (?,?,default) [23502-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:365)
	at org.h2.table.Table.convertInsertRow(Table.java:926)
	at org.h2.command.dml.Insert.insertRows(Insert.java:167)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:242)
	at org.h2.command.CommandContainer.update(CommandContainer.java:163)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:275)
	... 106 common frames omitted
2023-06-04 15:42:12,502 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:42:12,886 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:42:12,886 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:42:13,007 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:42:15,743 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12482 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:42:15,748 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:42:15,795 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:42:15,796 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:42:16,398 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:42:16,457 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2023-06-04 15:42:17,021 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:42:17,031 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:42:17,032 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:42:17,032 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:42:17,081 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:42:17,081 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1284 ms
2023-06-04 15:42:17,106 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:42:17,292 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:42:17,294 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:42:17,304 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:42:17,427 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:42:17,427 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:42:17,427 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:42:17,431 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:42:17,431 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 15:42:17,431 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:42:17,431 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:42:17,431 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 15:42:17,432 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:42:17,432 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:42:17,433 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:42:17,434 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:42:17,434 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:42:17,434 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:42:17,434 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:42:17,434 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:42:17,436 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:42:17,437 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:42:17,437 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:42:17,437 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:42:17,442 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:42:17,443 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:42:17,478 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:42:17,480 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:42:17,480 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:42:17,488 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:42:17,495 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:42:17,505 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:42:17,505 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:42:17,506 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:42:17,506 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:42:17,508 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:42:17,510 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.013s)
2023-06-04 15:42:17,512 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:42:17,517 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:42:17,520 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:42:17,526 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:42:17,526 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:42:17,527 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:42:17,533 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:42:17,533 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:42:17,535 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:42:17,535 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:42:17,541 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:42:17,542 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:42:17,543 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:42:17,544 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:42:17,546 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:42:17,546 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:42:17,550 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:42:17,550 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:42:17,554 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:42:17,558 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:42:17,560 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:42:17,560 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:42:17,561 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:42:17,561 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:42:17,562 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:42:17,562 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:42:17,563 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:42:17,565 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:42:17,567 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:42:17,567 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:42:17,568 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:42:17,568 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:42:17,572 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:42:17,573 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:42:17,574 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:42:17,575 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:42:17,577 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:42:17,577 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:42:17,578 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:42:17,578 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:42:17,582 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:42:17,583 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:42:17,584 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:42:17,586 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.048s)
2023-06-04 15:42:17,587 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 68M
2023-06-04 15:42:17,658 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:42:17,713 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:42:17,716 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:42:17,849 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:42:17,987 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:42:18,025 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:42:18,231 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:42:18,873 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:42:18,892 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:42:19,195 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:42:19,558 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:42:19,576 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:42:19,596 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:42:19,606 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.186 seconds (process running for 5.155)
2023-06-04 15:42:23,007 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 15:47:36,553 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:47:36,941 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:47:36,942 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:47:37,068 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:47:41,265 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12571 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:47:41,268 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:47:41,320 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:47:41,320 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:47:41,918 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:47:41,975 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2023-06-04 15:47:42,538 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:47:42,550 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:47:42,551 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:47:42,552 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:47:42,606 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:47:42,606 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1285 ms
2023-06-04 15:47:42,634 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:47:42,824 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:47:42,825 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:47:42,836 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:47:42,966 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:47:42,966 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:47:42,967 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:47:42,969 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:47:42,970 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 15:47:42,970 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:47:42,970 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:47:42,970 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 15:47:42,970 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:47:42,971 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:47:42,972 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:47:42,973 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:47:42,973 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:47:42,973 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:47:42,973 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:47:42,973 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:47:42,976 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:47:42,977 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:47:42,977 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:47:42,977 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:47:42,983 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:47:42,984 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:47:43,019 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:47:43,020 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:47:43,020 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:47:43,028 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:47:43,037 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:47:43,049 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:47:43,050 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:47:43,050 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:47:43,050 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:47:43,052 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:47:43,055 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 15:47:43,057 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:47:43,060 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:47:43,063 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:47:43,071 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:47:43,071 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:47:43,072 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:47:43,078 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:47:43,078 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:47:43,080 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:47:43,080 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:47:43,087 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:47:43,087 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:47:43,089 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:47:43,090 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:47:43,092 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:47:43,093 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:47:43,098 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:47:43,099 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:47:43,102 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:47:43,106 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:47:43,108 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:47:43,108 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:47:43,109 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:47:43,109 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:47:43,110 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:47:43,110 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:47:43,111 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:47:43,114 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:47:43,116 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:47:43,116 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:47:43,117 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:47:43,117 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:47:43,122 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:47:43,122 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:47:43,123 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:47:43,125 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:47:43,126 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:47:43,127 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:47:43,127 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:47:43,127 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:47:43,131 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:47:43,131 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:47:43,133 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:47:43,134 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.049s)
2023-06-04 15:47:43,135 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 15:47:43,207 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:47:43,264 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:47:43,266 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:47:43,401 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:47:43,537 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:47:43,572 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:47:43,776 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:47:44,424 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:47:44,444 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:47:44,744 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:47:45,099 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:47:45,117 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:47:45,136 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:47:45,145 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.2 seconds (process running for 5.073)
2023-06-04 15:47:48,329 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 15:56:01,991 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:56:02,380 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:56:02,381 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:56:02,508 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:56:06,437 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12718 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:56:06,439 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:56:06,475 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:56:06,475 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:56:06,941 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:56:06,991 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 43 ms. Found 3 JPA repository interfaces.
2023-06-04 15:56:07,446 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:56:07,454 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:56:07,455 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:56:07,455 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:56:07,493 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:56:07,493 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1017 ms
2023-06-04 15:56:07,514 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:56:07,665 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:56:07,667 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:56:07,676 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:56:07,787 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:56:07,787 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:56:07,788 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:56:07,790 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:56:07,790 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 15:56:07,790 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:56:07,790 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:56:07,790 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 15:56:07,790 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:56:07,791 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:56:07,791 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:56:07,792 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:56:07,792 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:56:07,792 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:56:07,793 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:56:07,793 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:56:07,794 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:56:07,795 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:56:07,795 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:56:07,795 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:56:07,800 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:56:07,801 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:56:07,827 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:56:07,829 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:56:07,829 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:56:07,836 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:56:07,842 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:56:07,850 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:56:07,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:56:07,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:56:07,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:56:07,852 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:56:07,854 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.012s)
2023-06-04 15:56:07,856 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:56:07,858 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:56:07,860 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:56:07,865 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:56:07,865 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:56:07,865 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:56:07,870 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:56:07,870 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:56:07,872 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:56:07,872 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:56:07,875 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:56:07,876 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:56:07,877 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:56:07,878 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:56:07,879 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:56:07,880 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:56:07,883 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:56:07,883 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:56:07,885 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:56:07,889 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:56:07,890 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:56:07,890 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:56:07,891 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:56:07,891 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:56:07,892 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:56:07,892 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:56:07,893 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:56:07,894 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:56:07,895 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:56:07,895 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:56:07,896 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:56:07,896 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:56:07,901 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:56:07,901 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:56:07,902 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:56:07,904 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:56:07,905 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:56:07,906 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:56:07,906 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:56:07,906 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:56:07,909 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:56:07,909 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:56:07,910 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:56:07,911 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.037s)
2023-06-04 15:56:07,913 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 15:56:07,976 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:56:08,023 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:56:08,025 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:56:08,132 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:56:08,244 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:56:08,273 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:56:08,443 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:56:08,988 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:56:09,005 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:56:09,269 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:56:09,574 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:56:09,589 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:56:09,606 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:56:09,613 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.421 seconds (process running for 4.105)
2023-06-04 15:56:30,638 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 15:56:30,780 WARN [http-nio-8090-exec-2] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 23506, SQLState: 23506
2023-06-04 15:56:30,781 ERROR [http-nio-8090-exec-2] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Referential integrity constraint violation: "FK_ROLE_PERMISSION_ROLE_ID: PUBLIC.ROLE_PERMISSION FOREIGN KEY(ROLE_PERMISSION_ROLE_ID) REFERENCES PUBLIC.ROLE(ID) (3)"; SQL statement:
insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?) [23506-214]
2023-06-04 15:56:30,792 WARN [http-nio-8090-exec-2] e.p.s.c.TestController [TestController.java:30] could not execute statement [Referential integrity constraint violation: "FK_ROLE_PERMISSION_ROLE_ID: PUBLIC.ROLE_PERMISSION FOREIGN KEY(ROLE_PERMISSION_ROLE_ID) REFERENCES PUBLIC.ROLE(ID) (3)"; SQL statement:
insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?) [23506-214]] [insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?)]; SQL [insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?)]; constraint [FK_ROLE_PERMISSION_ROLE_ID]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK_ROLE_PERMISSION_ROLE_ID: PUBLIC.ROLE_PERMISSION FOREIGN KEY(ROLE_PERMISSION_ROLE_ID) REFERENCES PUBLIC.ROLE(ID) (3)"; SQL statement:
insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?) [23506-214]] [insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?)]; SQL [insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?)]; constraint [FK_ROLE_PERMISSION_ROLE_ID]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:660)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:410)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy121.save(Unknown Source)
	at eafcanghel.pcshop.service.MyDbService.saveRole(MyDbService.java:57)
	at eafcanghel.pcshop.security.controller.TestController.save(TestController.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK_ROLE_PERMISSION_ROLE_ID: PUBLIC.ROLE_PERMISSION FOREIGN KEY(ROLE_PERMISSION_ROLE_ID) REFERENCES PUBLIC.ROLE(ID) (3)"; SQL statement:
insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?) [23506-214]] [insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:53)
	at org.hibernate.persister.collection.mutation.InsertRowsCoordinatorStandard.insertRows(InsertRowsCoordinatorStandard.java:118)
	at org.hibernate.persister.collection.BasicCollectionPersister.recreate(BasicCollectionPersister.java:114)
	at org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:47)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:618)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:489)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:486)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:358)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1412)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:485)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2296)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1961)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 64 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK_ROLE_PERMISSION_ROLE_ID: PUBLIC.ROLE_PERMISSION FOREIGN KEY(ROLE_PERMISSION_ROLE_ID) REFERENCES PUBLIC.ROLE(ID) (3)"; SQL statement:
insert into ROLE_PERMISSION (ROLE_PERMISSION_PERMISSION_ID,ROLE_PERMISSION_ROLE_ID) values (?,?) [23506-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRowOwnTable(ConstraintReferential.java:311)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:252)
	at org.h2.table.Table.fireConstraints(Table.java:1172)
	at org.h2.table.Table.fireAfterRow(Table.java:1190)
	at org.h2.command.dml.Insert.insertRows(Insert.java:188)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:275)
	... 86 common frames omitted
2023-06-04 15:58:15,976 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:58:16,365 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 15:58:16,365 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 15:58:16,493 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 15:58:21,053 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12756 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 15:58:21,056 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 15:58:21,106 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 15:58:21,106 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 15:58:21,692 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 15:58:21,753 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2023-06-04 15:58:22,313 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 15:58:22,323 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 15:58:22,324 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 15:58:22,324 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 15:58:22,373 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 15:58:22,374 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1266 ms
2023-06-04 15:58:22,398 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 15:58:22,588 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 15:58:22,590 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 15:58:22,600 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 15:58:22,726 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 15:58:22,726 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 15:58:22,726 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 15:58:22,729 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 15:58:22,729 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 15:58:22,729 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 15:58:22,729 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 15:58:22,729 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 15:58:22,729 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 15:58:22,730 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 15:58:22,730 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 15:58:22,731 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 15:58:22,732 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 15:58:22,732 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 15:58:22,732 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 15:58:22,732 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 15:58:22,736 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 15:58:22,736 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 15:58:22,737 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 15:58:22,737 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 15:58:22,742 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 15:58:22,742 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 15:58:22,776 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 15:58:22,778 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 15:58:22,778 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 15:58:22,787 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 15:58:22,794 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 15:58:22,807 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 15:58:22,808 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 15:58:22,808 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 15:58:22,808 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 15:58:22,810 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 15:58:22,813 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 15:58:22,815 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 15:58:22,818 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 15:58:22,820 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 15:58:22,826 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:58:22,827 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:58:22,827 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 15:58:22,834 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:58:22,834 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 15:58:22,836 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:58:22,837 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 15:58:22,842 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 15:58:22,843 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 15:58:22,844 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:58:22,846 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 15:58:22,847 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:58:22,848 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:58:22,851 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:58:22,852 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 15:58:22,854 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:58:22,858 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 15:58:22,859 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:58:22,860 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 15:58:22,860 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:58:22,860 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 15:58:22,861 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:58:22,862 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 15:58:22,863 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:58:22,864 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 15:58:22,866 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:58:22,866 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 15:58:22,867 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:58:22,867 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 15:58:22,873 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:58:22,874 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 15:58:22,875 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:58:22,877 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 15:58:22,879 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:58:22,879 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 15:58:22,879 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:58:22,880 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT             NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 15:58:22,883 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 15:58:22,883 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 15:58:22,884 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 15:58:22,886 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.046s)
2023-06-04 15:58:22,887 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 68M
2023-06-04 15:58:22,961 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 15:58:23,016 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 15:58:23,018 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 15:58:23,146 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:58:23,285 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 15:58:23,319 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 15:58:23,526 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 15:58:24,188 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 15:58:24,208 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 15:58:24,520 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 15:58:24,874 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 15:58:24,892 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 15:58:24,912 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 15:58:24,921 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.193 seconds (process running for 5.06)
2023-06-04 15:58:30,406 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:09:38,977 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:09:39,369 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:09:39,370 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:09:39,493 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:09:44,331 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 12991 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:09:44,333 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:09:44,386 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:09:44,386 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:09:44,968 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:09:45,027 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2023-06-04 16:09:45,587 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:09:45,595 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:09:45,596 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:09:45,597 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:09:45,647 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:09:45,647 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1260 ms
2023-06-04 16:09:45,674 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:09:45,859 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:09:45,861 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:09:45,870 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:09:45,995 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:09:45,995 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:09:45,995 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:09:45,998 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:09:45,998 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:09:45,998 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:09:45,998 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:09:45,999 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:09:45,999 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:09:46,001 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:09:46,001 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:09:46,003 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:09:46,003 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:09:46,003 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:09:46,003 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:09:46,003 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:09:46,005 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:09:46,006 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:09:46,006 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:09:46,006 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:09:46,012 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:09:46,012 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:09:46,046 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:09:46,049 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:09:46,049 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:09:46,058 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:09:46,066 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:09:46,077 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:09:46,078 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:09:46,078 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:09:46,078 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:09:46,080 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:09:46,082 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 16:09:46,085 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:09:46,088 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:09:46,092 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:09:46,099 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:09:46,099 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:09:46,099 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:09:46,106 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:09:46,106 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:09:46,108 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:09:46,108 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:09:46,113 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:09:46,113 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:09:46,115 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:09:46,116 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:09:46,117 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:09:46,118 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:09:46,122 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:09:46,122 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:09:46,126 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:09:46,130 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:09:46,132 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:09:46,132 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:09:46,133 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:09:46,133 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:09:46,134 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:09:46,134 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:09:46,135 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:09:46,137 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:09:46,138 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:09:46,139 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:09:46,139 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:09:46,139 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:09:46,144 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:09:46,144 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:09:46,146 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:09:46,148 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:09:46,150 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:09:46,150 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:09:46,151 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:09:46,151 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:09:46,154 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:09:46,154 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:09:46,156 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:09:46,158 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.047s)
2023-06-04 16:09:46,159 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 88M
2023-06-04 16:09:46,229 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:09:46,281 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:09:46,284 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:09:46,420 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:09:46,557 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:09:46,591 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:09:46,794 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:09:47,439 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:09:47,459 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:09:47,768 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:09:48,116 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:09:48,137 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:09:48,155 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:09:48,164 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.186 seconds (process running for 5.038)
2023-06-04 16:09:51,622 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:10:41,677 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:10:42,066 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:10:42,067 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:10:42,189 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:10:46,134 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13016 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:10:46,137 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:10:46,186 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:10:46,187 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:10:46,799 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:10:46,857 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2023-06-04 16:10:47,424 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:10:47,433 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:10:47,434 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:10:47,434 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:10:47,482 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:10:47,482 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1295 ms
2023-06-04 16:10:47,507 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:10:47,695 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:10:47,697 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:10:47,707 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:10:47,831 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:10:47,837 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:10:47,840 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:10:47,843 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:10:47,844 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:10:47,844 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:10:47,845 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:10:47,845 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:10:47,845 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:10:47,846 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:10:47,846 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:10:47,847 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:10:47,848 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:10:47,848 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:10:47,848 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:10:47,848 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:10:47,850 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:10:47,851 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:10:47,852 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:10:47,852 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:10:47,858 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:10:47,858 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:10:47,890 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:10:47,891 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:10:47,892 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:10:47,901 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:10:47,910 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:10:47,920 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:10:47,920 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:10:47,920 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:10:47,920 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:10:47,922 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:10:47,925 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.013s)
2023-06-04 16:10:47,929 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:10:47,933 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:10:47,935 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:10:47,941 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:10:47,941 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:10:47,942 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:10:47,950 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:10:47,951 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:10:47,952 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:10:47,952 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:10:47,958 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:10:47,958 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:10:47,959 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:10:47,961 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:10:47,962 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:10:47,964 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:10:47,967 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:10:47,968 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:10:47,970 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:10:47,976 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:10:47,977 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:10:47,978 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:10:47,979 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:10:47,979 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:10:47,980 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:10:47,980 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:10:47,981 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:10:47,983 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:10:47,985 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:10:47,985 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:10:47,986 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:10:47,986 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:10:47,991 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:10:47,991 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:10:47,992 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:10:47,994 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:10:47,996 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:10:47,997 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:10:47,997 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:10:47,998 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:10:48,001 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:10:48,001 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:10:48,002 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:10:48,004 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.048s)
2023-06-04 16:10:48,005 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:10:48,078 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:10:48,134 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:10:48,136 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:10:48,272 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:10:48,405 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:10:48,441 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:10:48,641 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:10:49,286 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:10:49,306 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:10:49,611 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:10:49,962 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:10:49,980 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:10:49,999 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:10:50,008 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.206 seconds (process running for 4.907)
2023-06-04 16:10:52,672 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:12:42,950 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:12:43,339 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:12:43,339 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:12:43,455 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:12:47,405 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13050 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:12:47,408 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:12:47,457 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:12:47,458 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:12:48,040 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:12:48,098 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2023-06-04 16:12:48,653 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:12:48,661 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:12:48,662 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:12:48,663 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:12:48,713 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:12:48,714 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1256 ms
2023-06-04 16:12:48,739 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:12:48,925 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:12:48,927 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:12:48,939 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:12:49,071 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:12:49,071 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:12:49,071 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:12:49,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:12:49,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 16:12:49,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:12:49,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:12:49,075 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 16:12:49,075 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:12:49,076 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:12:49,076 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:12:49,077 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:12:49,077 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:12:49,078 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:12:49,078 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:12:49,078 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:12:49,081 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:12:49,082 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:12:49,082 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:12:49,083 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:12:49,088 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:12:49,088 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:12:49,123 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:12:49,124 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:12:49,125 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:12:49,134 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:12:49,142 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:12:49,152 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:12:49,152 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:12:49,153 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:12:49,153 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:12:49,157 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:12:49,159 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.016s)
2023-06-04 16:12:49,161 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:12:49,165 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:12:49,167 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:12:49,173 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:12:49,174 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:12:49,174 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:12:49,180 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:12:49,181 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:12:49,182 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:12:49,183 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:12:49,188 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:12:49,188 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:12:49,189 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:12:49,191 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:12:49,192 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:12:49,193 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:12:49,197 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:12:49,197 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:12:49,201 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:12:49,205 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:12:49,207 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:12:49,207 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:12:49,208 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:12:49,208 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:12:49,209 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:12:49,209 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:12:49,211 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:12:49,212 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:12:49,214 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:12:49,214 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:12:49,215 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:12:49,215 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:12:49,220 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:12:49,220 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:12:49,221 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:12:49,223 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:12:49,225 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:12:49,225 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:12:49,226 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:12:49,226 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:12:49,229 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:12:49,229 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:12:49,230 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:12:49,233 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.047s)
2023-06-04 16:12:49,234 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:12:49,307 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:12:49,361 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:12:49,364 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:12:49,498 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:12:49,636 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:12:49,670 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:12:49,875 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:12:50,523 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:12:50,542 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:12:50,852 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:12:51,198 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:12:51,216 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:12:51,234 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:12:51,243 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.174 seconds (process running for 5.014)
2023-06-04 16:12:55,731 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:19:44,908 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:19:45,303 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:19:45,304 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:19:45,433 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:19:49,871 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13156 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:19:49,874 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:19:49,924 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:19:49,924 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:19:50,542 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:19:50,603 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2023-06-04 16:19:51,179 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:19:51,187 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:19:51,188 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:19:51,188 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:19:51,239 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:19:51,239 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1314 ms
2023-06-04 16:19:51,267 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:19:51,459 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:19:51,461 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:19:51,472 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:19:51,604 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:19:51,604 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:19:51,605 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:19:51,607 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:19:51,607 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 16:19:51,607 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:19:51,608 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:19:51,608 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 16:19:51,608 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:19:51,611 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:19:51,612 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:19:51,613 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:19:51,613 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:19:51,613 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:19:51,614 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:19:51,614 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:19:51,616 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:19:51,618 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:19:51,618 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:19:51,618 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:19:51,623 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:19:51,623 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:19:51,658 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:19:51,663 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:19:51,663 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:19:51,672 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:19:51,679 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:19:51,692 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:19:51,693 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:19:51,693 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:19:51,693 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:19:51,695 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:19:51,698 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 16:19:51,700 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:19:51,703 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:19:51,705 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:19:51,714 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:19:51,714 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:19:51,714 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:19:51,721 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:19:51,721 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:19:51,723 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:19:51,723 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:19:51,728 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:19:51,728 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:19:51,730 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:19:51,731 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:19:51,733 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:19:51,734 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:19:51,739 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:19:51,739 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:19:51,742 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:19:51,746 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:19:51,748 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:19:51,748 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:19:51,749 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:19:51,749 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:19:51,750 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:19:51,750 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:19:51,752 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:19:51,754 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:19:51,755 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:19:51,755 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:19:51,756 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:19:51,756 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:19:51,763 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:19:51,763 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:19:51,765 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:19:51,766 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:19:51,768 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:19:51,768 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:19:51,768 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:19:51,769 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:19:51,772 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:19:51,772 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:19:51,773 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:19:51,775 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.049s)
2023-06-04 16:19:51,778 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:19:51,852 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:19:51,908 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:19:51,910 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:19:52,049 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:19:52,191 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:19:52,227 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:19:52,435 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:19:53,111 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:19:53,131 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:19:53,450 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:19:53,818 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:19:53,836 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:19:53,855 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:19:53,865 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.339 seconds (process running for 5.2)
2023-06-04 16:19:56,564 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:20:39,286 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:20:39,681 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:20:39,682 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:20:39,803 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:20:43,625 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13171 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:20:43,630 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:20:43,675 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:20:43,676 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:20:44,245 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:20:44,298 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2023-06-04 16:20:44,830 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:20:44,837 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:20:44,838 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:20:44,838 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:20:44,888 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:20:44,889 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1211 ms
2023-06-04 16:20:44,916 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:20:45,092 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:20:45,094 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:20:45,104 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:20:45,223 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:20:45,223 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:20:45,224 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:20:45,226 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:20:45,227 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:20:45,228 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:20:45,228 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:20:45,228 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:20:45,229 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:20:45,230 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:20:45,230 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:20:45,231 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:20:45,231 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:20:45,231 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:20:45,232 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:20:45,232 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:20:45,234 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:20:45,235 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:20:45,235 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:20:45,235 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:20:45,240 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:20:45,240 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:20:45,274 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:20:45,275 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:20:45,275 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:20:45,287 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:20:45,296 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:20:45,305 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:20:45,305 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:20:45,305 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:20:45,306 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:20:45,308 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:20:45,310 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.013s)
2023-06-04 16:20:45,312 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:20:45,316 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:20:45,318 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:20:45,326 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:20:45,327 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:20:45,327 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:20:45,333 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:20:45,333 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:20:45,335 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:20:45,335 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:20:45,340 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:20:45,340 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:20:45,341 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:20:45,344 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:20:45,346 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:20:45,347 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:20:45,350 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:20:45,351 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:20:45,353 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:20:45,357 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:20:45,358 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:20:45,359 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:20:45,360 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:20:45,360 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:20:45,361 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:20:45,361 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:20:45,362 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:20:45,364 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:20:45,365 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:20:45,366 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:20:45,367 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:20:45,367 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:20:45,371 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:20:45,371 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:20:45,372 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:20:45,374 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:20:45,376 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:20:45,376 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:20:45,376 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:20:45,377 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:20:45,379 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:20:45,380 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:20:45,381 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:20:45,385 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.047s)
2023-06-04 16:20:45,386 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 88M
2023-06-04 16:20:45,450 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:20:45,492 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:20:45,495 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:20:45,615 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:20:45,734 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:20:45,763 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:20:45,948 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:20:46,536 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:20:46,556 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:20:46,830 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:20:47,142 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:20:47,159 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:20:47,178 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:20:47,187 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.879 seconds (process running for 4.583)
2023-06-04 16:21:07,498 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:28:53,147 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:28:53,516 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:28:53,517 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:28:53,650 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:28:58,027 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13310 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:28:58,029 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:28:58,078 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:28:58,078 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:28:58,693 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:28:58,754 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2023-06-04 16:28:59,325 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:28:59,336 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:28:59,337 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:28:59,337 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:28:59,388 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:28:59,389 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1310 ms
2023-06-04 16:28:59,414 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:28:59,610 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:28:59,611 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:28:59,624 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:28:59,758 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:28:59,759 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:28:59,759 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:28:59,761 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:28:59,762 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:28:59,762 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:28:59,762 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:28:59,762 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:28:59,762 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:28:59,763 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:28:59,763 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:28:59,765 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:28:59,766 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:28:59,767 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:28:59,767 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:28:59,768 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:28:59,770 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:28:59,771 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:28:59,771 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:28:59,772 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:28:59,778 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:28:59,778 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:28:59,815 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:28:59,818 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:28:59,818 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:28:59,830 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:28:59,838 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:28:59,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:28:59,851 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:28:59,852 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:28:59,852 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:28:59,854 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:28:59,857 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.018s)
2023-06-04 16:28:59,859 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:28:59,863 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:28:59,865 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:28:59,871 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:28:59,871 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:28:59,872 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:28:59,880 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:28:59,881 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:28:59,883 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:28:59,883 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:28:59,888 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:28:59,889 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:28:59,890 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:28:59,892 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:28:59,893 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:28:59,894 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:28:59,898 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:28:59,898 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:28:59,902 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:28:59,906 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:28:59,908 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:28:59,908 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:28:59,908 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:28:59,909 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:28:59,910 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:28:59,910 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:28:59,911 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:28:59,913 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:28:59,914 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:28:59,915 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:28:59,915 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:28:59,916 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:28:59,920 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:28:59,920 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:28:59,921 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:28:59,923 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:28:59,925 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:28:59,925 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:28:59,925 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:28:59,925 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:28:59,930 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:28:59,930 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:28:59,931 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:28:59,935 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.049s)
2023-06-04 16:28:59,936 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:29:00,012 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:29:00,068 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:29:00,070 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:29:00,207 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:29:00,351 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:29:00,386 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:29:00,595 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:29:01,268 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:29:01,288 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:29:01,579 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:29:01,915 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:29:01,934 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:29:01,952 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:29:01,961 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.271 seconds (process running for 5.136)
2023-06-04 16:29:06,579 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:30:24,012 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:30:24,409 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:30:24,411 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:30:24,531 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:30:28,344 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13347 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:30:28,347 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:30:28,400 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:30:28,401 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:30:29,011 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:30:29,071 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2023-06-04 16:30:29,638 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:30:29,646 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:30:29,647 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:30:29,647 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:30:29,697 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:30:29,697 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1295 ms
2023-06-04 16:30:29,724 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:30:29,912 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:30:29,916 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:30:29,926 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:30:30,062 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:30:30,062 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:30:30,062 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:30:30,066 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:30:30,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:30:30,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:30:30,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:30:30,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:30:30,068 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:30:30,069 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:30:30,069 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:30:30,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:30:30,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:30:30,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:30:30,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:30:30,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:30:30,073 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:30:30,074 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:30:30,074 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:30:30,074 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:30:30,079 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:30:30,080 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:30:30,114 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:30:30,119 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:30:30,119 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:30:30,127 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:30:30,136 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:30:30,147 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:30:30,148 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:30:30,148 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:30:30,148 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:30:30,150 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:30:30,153 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 16:30:30,155 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:30:30,160 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:30:30,162 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:30:30,169 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:30:30,169 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:30:30,170 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:30:30,178 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:30:30,178 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:30:30,180 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:30:30,180 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:30:30,185 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:30:30,186 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:30:30,187 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:30:30,189 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:30:30,190 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:30:30,191 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:30:30,196 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:30:30,196 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:30:30,199 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:30:30,203 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:30:30,205 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:30:30,205 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:30:30,206 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:30:30,206 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:30:30,207 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:30:30,207 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:30:30,208 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:30:30,210 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:30:30,213 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:30:30,214 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:30:30,215 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:30:30,215 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:30:30,220 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:30:30,220 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:30:30,221 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:30:30,223 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:30:30,225 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:30:30,225 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:30:30,225 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:30:30,225 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:30:30,230 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:30:30,230 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:30:30,232 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:30:30,234 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.050s)
2023-06-04 16:30:30,235 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:30:30,311 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:30:30,366 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:30:30,368 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:30:30,507 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:30:30,650 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:30:30,685 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:30:30,903 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:30:31,576 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:30:31,596 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:30:31,885 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:30:32,218 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:30:32,235 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:30:32,252 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:30:32,261 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.254 seconds (process running for 5.005)
2023-06-04 16:30:35,864 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:32:20,161 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:32:20,557 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:32:20,558 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:32:20,683 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:32:24,981 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13380 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:32:24,986 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:32:25,039 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:32:25,039 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:32:25,642 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:32:25,703 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2023-06-04 16:32:26,275 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:32:26,285 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:32:26,286 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:32:26,287 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:32:26,335 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:32:26,335 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1295 ms
2023-06-04 16:32:26,361 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:32:26,553 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:32:26,554 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:32:26,564 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:32:26,694 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:32:26,694 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:32:26,695 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:32:26,697 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:32:26,697 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:32:26,697 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:32:26,697 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:32:26,698 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:32:26,698 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:32:26,699 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:32:26,700 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:32:26,702 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:32:26,702 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:32:26,702 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:32:26,703 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:32:26,703 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:32:26,705 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:32:26,706 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:32:26,706 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:32:26,706 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:32:26,711 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:32:26,712 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:32:26,746 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:32:26,749 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:32:26,750 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:32:26,759 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:32:26,767 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:32:26,777 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:32:26,777 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:32:26,778 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:32:26,778 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:32:26,780 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:32:26,783 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 16:32:26,785 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:32:26,788 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:32:26,790 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:32:26,799 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:32:26,799 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:32:26,799 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:32:26,806 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:32:26,806 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:32:26,808 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:32:26,808 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:32:26,815 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:32:26,815 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:32:26,817 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:32:26,818 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:32:26,819 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:32:26,820 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:32:26,824 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:32:26,824 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:32:26,826 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:32:26,832 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:32:26,834 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:32:26,834 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:32:26,835 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:32:26,835 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:32:26,836 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:32:26,836 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:32:26,838 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:32:26,839 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:32:26,841 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:32:26,841 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:32:26,842 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:32:26,842 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:32:26,846 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:32:26,846 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:32:26,850 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:32:26,852 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:32:26,853 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:32:26,854 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:32:26,854 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:32:26,854 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:32:26,857 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:32:26,858 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:32:26,859 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:32:26,861 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.050s)
2023-06-04 16:32:26,863 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:32:26,935 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:32:26,991 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:32:26,993 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:32:27,130 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:32:27,271 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:32:27,306 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:32:27,514 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:32:28,181 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:32:28,203 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:32:28,486 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:32:28,803 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:32:28,820 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:32:28,837 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:32:28,846 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.197 seconds (process running for 5.043)
2023-06-04 16:32:32,464 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:33:16,849 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:33:17,243 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:33:17,244 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:33:17,368 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:33:21,199 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13400 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:33:21,204 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:33:21,254 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:33:21,254 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:33:21,858 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:33:21,919 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 54 ms. Found 3 JPA repository interfaces.
2023-06-04 16:33:22,490 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:33:22,499 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:33:22,501 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:33:22,501 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:33:22,554 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:33:22,554 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1299 ms
2023-06-04 16:33:22,581 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:33:22,769 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:33:22,771 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:33:22,780 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:33:22,907 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:33:22,907 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:33:22,907 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:33:22,909 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:33:22,910 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:33:22,910 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:33:22,910 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:33:22,910 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 16:33:22,910 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:33:22,911 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:33:22,911 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:33:22,912 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:33:22,913 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:33:22,913 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:33:22,913 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:33:22,913 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:33:22,915 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:33:22,916 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:33:22,918 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:33:22,918 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:33:22,923 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:33:22,924 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:33:22,958 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:33:22,961 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:33:22,961 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:33:22,971 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:33:22,979 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:33:22,992 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:33:22,993 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:33:22,993 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:33:22,993 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:33:22,995 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:33:22,998 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.018s)
2023-06-04 16:33:23,000 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:33:23,004 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:33:23,006 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:33:23,014 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:33:23,014 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:33:23,015 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:33:23,023 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:33:23,023 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:33:23,025 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:33:23,025 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:33:23,033 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:33:23,033 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:33:23,035 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:33:23,037 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:33:23,038 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:33:23,039 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:33:23,043 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:33:23,043 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:33:23,045 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:33:23,049 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:33:23,053 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:33:23,053 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:33:23,054 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:33:23,054 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:33:23,055 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:33:23,056 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:33:23,057 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:33:23,060 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:33:23,062 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:33:23,063 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:33:23,063 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:33:23,064 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:33:23,069 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:33:23,069 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:33:23,071 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:33:23,072 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:33:23,074 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:33:23,075 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:33:23,076 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:33:23,077 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:33:23,080 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:33:23,080 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:33:23,081 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:33:23,086 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.057s)
2023-06-04 16:33:23,087 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 82M
2023-06-04 16:33:23,159 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:33:23,210 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:33:23,212 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:33:23,342 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:33:23,476 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:33:23,510 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:33:23,722 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:33:24,365 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:33:24,386 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:33:24,670 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:33:25,010 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:33:25,028 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:33:25,045 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:33:25,055 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.19 seconds (process running for 4.916)
2023-06-04 16:33:30,077 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:34:25,366 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:34:25,761 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:34:25,763 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:34:25,885 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:34:30,121 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13424 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:34:30,123 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:34:30,175 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:34:30,175 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:34:30,798 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:34:30,857 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2023-06-04 16:34:31,436 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:34:31,445 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:34:31,446 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:34:31,446 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:34:31,495 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:34:31,495 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1319 ms
2023-06-04 16:34:31,523 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:34:31,713 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:34:31,715 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:34:31,726 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:34:31,849 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:34:31,850 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:34:31,850 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:34:31,854 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:34:31,854 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:34:31,854 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:34:31,854 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:34:31,854 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@49f91efd ...
2023-06-04 16:34:31,855 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:34:31,856 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:34:31,856 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:34:31,857 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:34:31,857 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:34:31,857 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:34:31,857 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:34:31,857 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:34:31,860 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:34:31,860 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:34:31,861 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:34:31,861 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:34:31,866 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:34:31,866 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:34:31,899 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:34:31,903 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:34:31,903 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:34:31,911 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:34:31,920 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:34:31,931 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:34:31,931 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:34:31,931 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:34:31,931 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:34:31,934 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:34:31,936 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 16:34:31,938 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:34:31,942 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:34:31,946 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:34:31,952 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:34:31,953 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:34:31,953 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:34:31,960 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:34:31,960 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:34:31,963 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:34:31,963 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:34:31,969 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:34:31,969 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:34:31,970 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:34:31,972 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:34:31,973 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:34:31,974 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:34:31,978 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:34:31,978 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:34:31,982 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:34:31,986 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:34:31,988 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:34:31,989 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:34:31,989 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:34:31,990 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:34:31,990 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:34:31,991 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:34:31,992 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:34:31,994 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:34:31,996 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:34:31,996 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:34:31,997 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:34:31,998 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:34:32,003 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:34:32,004 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:34:32,005 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:34:32,006 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:34:32,008 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:34:32,008 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:34:32,009 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:34:32,009 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:34:32,012 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:34:32,012 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:34:32,013 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:34:32,016 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.049s)
2023-06-04 16:34:32,018 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 68M
2023-06-04 16:34:32,092 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:34:32,146 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:34:32,148 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:34:32,285 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:34:32,425 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:34:32,462 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:34:32,679 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:34:33,351 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:34:33,372 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:34:33,660 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:34:34,015 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:34:34,035 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:34:34,053 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:34:34,062 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.279 seconds (process running for 5.124)
2023-06-04 16:34:44,032 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:39:27,668 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:39:28,062 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:39:28,062 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:39:28,186 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:39:32,323 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13515 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:39:32,325 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:39:32,373 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:39:32,373 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:39:32,991 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:39:33,055 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2023-06-04 16:39:33,630 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:39:33,640 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:39:33,641 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:39:33,641 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:39:33,692 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:39:33,693 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1318 ms
2023-06-04 16:39:33,721 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:39:33,929 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:39:33,931 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:39:33,942 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:39:34,066 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:39:34,066 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:39:34,067 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:39:34,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:39:34,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@42ba9920 ...
2023-06-04 16:39:34,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:39:34,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:39:34,071 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@42ba9920 ...
2023-06-04 16:39:34,072 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:39:34,073 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:39:34,073 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:39:34,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:39:34,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:39:34,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:39:34,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:39:34,074 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:39:34,077 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:39:34,077 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:39:34,078 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:39:34,078 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:39:34,083 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:39:34,083 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:39:34,116 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:39:34,121 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:39:34,121 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:39:34,129 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:39:34,138 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:39:34,149 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:39:34,149 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:39:34,149 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:39:34,149 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:39:34,153 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:39:34,156 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.017s)
2023-06-04 16:39:34,158 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:39:34,162 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:39:34,164 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:39:34,170 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:39:34,170 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:39:34,171 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:39:34,179 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:39:34,179 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:39:34,181 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:39:34,181 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:39:34,186 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:39:34,187 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:39:34,188 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:39:34,190 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:39:34,191 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:39:34,192 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:39:34,197 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:39:34,197 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:39:34,199 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:39:34,203 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:39:34,205 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:39:34,206 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:39:34,206 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:39:34,207 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:39:34,207 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:39:34,208 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:39:34,209 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:39:34,211 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:39:34,214 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:39:34,215 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:39:34,215 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:39:34,215 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:39:34,220 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:39:34,221 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:39:34,222 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:39:34,224 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:39:34,226 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:39:34,226 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:39:34,227 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:39:34,227 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:39:34,231 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:39:34,232 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:39:34,233 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:39:34,236 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.052s)
2023-06-04 16:39:34,237 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 25 of 88M
2023-06-04 16:39:34,321 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:39:34,378 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:39:34,381 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:39:34,522 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:39:34,663 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:39:34,698 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:39:34,912 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:39:35,574 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:39:35,593 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:39:35,880 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:39:36,213 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:39:36,231 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:39:36,248 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:39:36,258 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.331 seconds (process running for 6.656)
2023-06-04 16:39:39,238 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:51:56,718 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:51:57,111 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:51:57,111 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:51:57,237 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:52:01,103 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13711 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:52:01,106 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:52:01,140 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:52:01,140 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:52:01,604 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:52:01,651 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 41 ms. Found 3 JPA repository interfaces.
2023-06-04 16:52:02,082 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:52:02,090 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:52:02,090 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:52:02,091 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:52:02,129 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:52:02,130 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 989 ms
2023-06-04 16:52:02,148 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:52:02,302 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:52:02,304 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:52:02,312 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:52:02,412 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:52:02,412 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:52:02,412 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:52:02,415 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:52:02,415 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 16:52:02,415 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:52:02,415 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:52:02,415 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 16:52:02,415 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:52:02,416 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:52:02,416 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:52:02,418 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:52:02,418 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:52:02,418 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:52:02,418 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:52:02,418 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:52:02,420 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:52:02,421 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:52:02,421 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:52:02,422 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:52:02,427 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:52:02,427 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:52:02,454 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:52:02,457 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:52:02,457 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:52:02,463 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:52:02,469 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:52:02,479 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:52:02,479 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:52:02,479 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:52:02,479 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:52:02,481 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:52:02,483 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.013s)
2023-06-04 16:52:02,484 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:52:02,487 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:52:02,489 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:52:02,494 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:52:02,494 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:52:02,494 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:52:02,499 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:52:02,499 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:52:02,500 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:52:02,500 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:52:02,504 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:52:02,504 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:52:02,505 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:52:02,507 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:52:02,508 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:52:02,508 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:52:02,511 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:52:02,511 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:52:02,513 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:52:02,516 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:52:02,517 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:52:02,517 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:52:02,518 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:52:02,518 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:52:02,519 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:52:02,519 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:52:02,520 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:52:02,521 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:52:02,522 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:52:02,523 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:52:02,523 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:52:02,523 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:52:02,526 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:52:02,527 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:52:02,528 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:52:02,529 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:52:02,530 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:52:02,530 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:52:02,531 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:52:02,531 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:52:02,533 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:52:02,533 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:52:02,534 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:52:02,535 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.033s)
2023-06-04 16:52:02,536 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:52:02,591 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:52:02,634 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:52:02,636 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:52:02,743 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:52:02,847 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:52:02,878 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:52:03,039 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:52:03,562 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:52:03,578 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:52:03,807 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:52:04,064 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:52:04,077 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:52:04,090 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:52:04,097 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.229 seconds (process running for 3.942)
2023-06-04 16:52:25,150 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:53:24,367 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:53:24,762 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:53:24,763 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:53:24,889 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:53:27,781 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13739 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:53:27,784 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:53:27,817 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:53:27,817 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:53:28,268 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:53:28,311 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 38 ms. Found 3 JPA repository interfaces.
2023-06-04 16:53:28,746 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:53:28,753 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:53:28,754 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:53:28,754 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:53:28,790 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:53:28,791 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 972 ms
2023-06-04 16:53:28,810 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:53:28,956 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:53:28,958 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:53:28,966 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:53:29,065 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:53:29,065 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:53:29,065 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:53:29,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:53:29,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 16:53:29,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:53:29,067 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:53:29,068 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7c41a41e ...
2023-06-04 16:53:29,068 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:53:29,069 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:53:29,069 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:53:29,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:53:29,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:53:29,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:53:29,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:53:29,070 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:53:29,072 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:53:29,073 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:53:29,073 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:53:29,073 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:53:29,077 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:53:29,078 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:53:29,104 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:53:29,105 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:53:29,105 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:53:29,111 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:53:29,117 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:53:29,126 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:53:29,126 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:53:29,127 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:53:29,127 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:53:29,128 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:53:29,131 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.013s)
2023-06-04 16:53:29,132 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:53:29,135 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:53:29,136 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:53:29,141 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:53:29,142 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:53:29,142 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:53:29,147 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:53:29,147 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:53:29,148 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:53:29,148 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:53:29,152 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:53:29,152 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:53:29,153 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:53:29,154 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:53:29,155 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:53:29,156 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:53:29,158 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:53:29,158 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:53:29,160 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:53:29,163 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:53:29,164 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:53:29,164 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:53:29,165 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:53:29,165 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:53:29,166 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:53:29,166 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:53:29,167 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:53:29,168 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:53:29,170 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:53:29,170 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:53:29,170 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:53:29,171 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:53:29,174 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:53:29,174 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:53:29,176 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:53:29,177 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:53:29,178 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:53:29,178 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:53:29,179 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:53:29,179 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:53:29,181 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:53:29,182 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:53:29,183 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:53:29,184 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.034s)
2023-06-04 16:53:29,185 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:53:29,242 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:53:29,283 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:53:29,285 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:53:29,392 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:53:29,498 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:53:29,524 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:53:29,689 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:53:30,221 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:53:30,257 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:53:30,484 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:53:30,738 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:53:30,752 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:53:30,765 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:53:30,773 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.223 seconds (process running for 3.737)
2023-06-04 16:53:39,129 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 16:54:49,943 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:54:50,335 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 16:54:50,336 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 16:54:50,459 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 16:54:53,620 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 13762 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 16:54:53,622 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 16:54:53,658 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 16:54:53,659 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 16:54:54,092 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 16:54:54,137 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 39 ms. Found 3 JPA repository interfaces.
2023-06-04 16:54:54,559 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 16:54:54,567 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 16:54:54,567 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 16:54:54,567 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 16:54:54,606 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 16:54:54,606 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 947 ms
2023-06-04 16:54:54,626 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 16:54:54,768 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 16:54:54,770 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 16:54:54,778 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 16:54:54,876 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 16:54:54,876 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 16:54:54,877 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 16:54:54,879 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 16:54:54,879 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 16:54:54,879 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 16:54:54,879 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 16:54:54,879 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7b0a5805 ...
2023-06-04 16:54:54,879 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 16:54:54,880 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 16:54:54,880 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 16:54:54,881 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 16:54:54,881 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 16:54:54,881 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 16:54:54,882 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 16:54:54,882 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 16:54:54,884 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 16:54:54,884 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 16:54:54,885 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 16:54:54,885 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 16:54:54,889 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 16:54:54,889 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 16:54:54,917 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 16:54:54,918 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 16:54:54,918 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 16:54:54,924 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 16:54:54,931 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 16:54:54,938 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 16:54:54,938 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 16:54:54,938 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 16:54:54,939 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 16:54:54,940 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 16:54:54,942 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.010s)
2023-06-04 16:54:54,944 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 16:54:54,946 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 16:54:54,948 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 16:54:54,953 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:54:54,953 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:54:54,953 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 16:54:54,959 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:54:54,959 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 16:54:54,960 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:54:54,960 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 16:54:54,964 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 16:54:54,964 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 16:54:54,965 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:54:54,966 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 16:54:54,967 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:54:54,968 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:54:54,971 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:54:54,971 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 16:54:54,972 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:54:54,976 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 16:54:54,977 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:54:54,977 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 16:54:54,978 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:54:54,978 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 16:54:54,979 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:54:54,979 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 16:54:54,980 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:54:54,981 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 16:54:54,983 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:54:54,983 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 16:54:54,983 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:54:54,983 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH DATETIME        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 16:54:54,987 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:54:54,987 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 16:54:54,988 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:54:54,990 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 16:54:54,991 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:54:54,991 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 16:54:54,992 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:54:54,992 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 16:54:54,994 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 16:54:54,995 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 16:54:54,996 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 16:54:54,998 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.035s)
2023-06-04 16:54:54,999 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 16:54:55,059 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 16:54:55,104 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 16:54:55,106 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 16:54:55,212 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:54:55,327 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 16:54:55,357 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 16:54:55,526 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 16:54:56,041 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 16:54:56,056 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 16:54:56,278 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 16:54:56,526 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 16:54:56,539 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 16:54:56,551 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 16:54:56,559 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 3.177 seconds (process running for 3.851)
2023-06-04 16:54:59,082 INFO [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 17:34:53,510 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 17:34:53,900 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 17:34:53,901 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 17:34:54,032 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2023-06-04 17:34:59,117 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:51] Starting PcShopApplication using Java 18.0.2.1 with PID 14487 (/Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes started by dantatar in /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop)
2023-06-04 17:34:59,120 INFO [restartedMain] e.p.PcShopApplication [SpringApplication.java:633] No active profile set, falling back to 1 default profile: "default"
2023-06-04 17:34:59,175 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-04 17:34:59,175 INFO [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [DeferredLog.java:250] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-04 17:34:59,801 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:138] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-04 17:34:59,860 INFO [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:208] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2023-06-04 17:35:00,433 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 8090 (http)
2023-06-04 17:35:00,443 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8090"]
2023-06-04 17:35:00,444 INFO [restartedMain] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2023-06-04 17:35:00,444 INFO [restartedMain] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-06-04 17:35:00,495 INFO [restartedMain] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2023-06-04 17:35:00,496 INFO [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:291] Root WebApplicationContext: initialization completed in 1320 ms
2023-06-04 17:35:00,525 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2023-06-04 17:35:00,720 INFO [restartedMain] c.z.h.p.HikariPool [HikariPool.java:565] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:pcshop user=PCSHOP
2023-06-04 17:35:00,722 INFO [restartedMain] c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2023-06-04 17:35:00,733 INFO [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration [H2ConsoleAutoConfiguration.java:88] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:pcshop'
2023-06-04 17:35:00,866 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] Flyway Community Edition 9.19.1 by Redgate
2023-06-04 17:35:00,867 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] See release notes here: https://rd.gt/416ObMi
2023-06-04 17:35:00,867 INFO [restartedMain] o.f.c.i.l.VersionPrinter [Slf4jLog.java:37] 
2023-06-04 17:35:00,870 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/callback' ...
2023-06-04 17:35:00,870 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/callback using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 17:35:00,870 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Unable to resolve location classpath:db/callback.
2023-06-04 17:35:00,871 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classpath resources at 'classpath:db/migration' ...
2023-06-04 17:35:00,871 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Determining location urls for classpath:db/migration using ClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@536e7995 ...
2023-06-04 17:35:00,871 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning URL: file:/Users/dantatar/ditar/dev/SynologyDrive/AAN/school%202023/PROJINT/Projets/pc-shop/target/classes/db/migration
2023-06-04 17:35:00,872 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning starting at classpath root in filesystem: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/
2023-06-04 17:35:00,872 DEBUG [restartedMain] o.f.c.i.s.c.FileSystemClassPathLocationScanner [Slf4jLog.java:33] Scanning for resources in path: /Users/dantatar/ditar/dev/SynologyDrive/AAN/school 2023/PROJINT/Projets/pc-shop/target/classes/db/migration (db/migration)
2023-06-04 17:35:00,873 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_1__create_permission_table.sql
2023-06-04 17:35:00,874 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_2__create_role_table.sql
2023-06-04 17:35:00,874 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_3__create_user_table.sql
2023-06-04 17:35:00,874 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Found resource: db/migration/V1_0_4__create_role_permission_table.sql
2023-06-04 17:35:00,874 DEBUG [restartedMain] o.f.c.i.s.c.ClassPathScanner [Slf4jLog.java:33] Scanning for classes at classpath:db/migration
2023-06-04 17:35:00,877 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_3__create_user_table.sql
2023-06-04 17:35:00,878 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_1__create_permission_table.sql
2023-06-04 17:35:00,878 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_4__create_role_permission_table.sql
2023-06-04 17:35:00,878 DEBUG [restartedMain] o.f.c.i.r.ResourceNameValidator [Slf4jLog.java:33] Validating V1_0_2__create_role_table.sql
2023-06-04 17:35:00,884 INFO [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:37] Database: jdbc:h2:mem:pcshop (H2 2.1)
2023-06-04 17:35:00,884 DEBUG [restartedMain] o.f.c.i.d.b.BaseDatabaseType [Slf4jLog.java:33] Driver  : H2 JDBC Driver 2.1.214 (2022-06-13)
2023-06-04 17:35:00,920 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] DDL Transactions Supported: false
2023-06-04 17:35:00,923 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Schemas: 
2023-06-04 17:35:00,923 DEBUG [restartedMain] o.f.c.i.s.SchemaHistoryFactory [Slf4jLog.java:33] Default schema: null
2023-06-04 17:35:00,932 DEBUG [restartedMain] o.f.c.i.c.SqlScriptCallbackFactory [Slf4jLog.java:33] Scanning for SQL callbacks ...
2023-06-04 17:35:00,940 DEBUG [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:33] Validating migrations ...
2023-06-04 17:35:00,952 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_3__create_user_table.sql (filename: V1_0_3__create_user_table.sql)
2023-06-04 17:35:00,952 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_1__create_permission_table.sql (filename: V1_0_1__create_permission_table.sql)
2023-06-04 17:35:00,952 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_4__create_role_permission_table.sql (filename: V1_0_4__create_role_permission_table.sql)
2023-06-04 17:35:00,953 DEBUG [restartedMain] o.f.c.i.s.Scanner [Slf4jLog.java:33] Filtering out resource: db/migration/V1_0_2__create_role_table.sql (filename: V1_0_2__create_role_table.sql)
2023-06-04 17:35:00,955 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2023-06-04 17:35:00,957 INFO [restartedMain] o.f.c.i.c.DbValidate [Slf4jLog.java:37] Successfully validated 4 migrations (execution time 00:00.015s)
2023-06-04 17:35:00,959 DEBUG [restartedMain] o.f.c.i.c.DbSchemas [Slf4jLog.java:33] Skipping creation of existing schema: "PUBLIC"
2023-06-04 17:35:00,963 INFO [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:37] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-06-04 17:35:00,966 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing  ...
2023-06-04 17:35:00,973 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 17:35:00,973 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 17:35:00,973 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'PCSHOP', CURRENT_TIMESTAMP, 0, TRUE
2023-06-04 17:35:00,980 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 17:35:00,980 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2023-06-04 17:35:00,982 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 17:35:00,982 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Created Schema History table "PUBLIC"."flyway_schema_history"
2023-06-04 17:35:00,987 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Current version of schema "PUBLIC": << Empty Schema >>
2023-06-04 17:35:00,988 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_1__create_permission_table.sql ...
2023-06-04 17:35:00,989 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 17:35:00,990 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.1 - create permission table" ...
2023-06-04 17:35:00,992 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 17:35:00,993 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE PERMISSION
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 17:35:00,997 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 17:35:00,997 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.1 - create permission table"
2023-06-04 17:35:00,999 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 17:35:01,003 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_2__create_role_table.sql ...
2023-06-04 17:35:01,006 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 17:35:01,006 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.2 - create role table" ...
2023-06-04 17:35:01,006 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 17:35:01,007 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE
(
    ID          INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME        VARCHAR(255)    NOT NULL,
    DESCRIPTION VARCHAR(255)    NOT NULL
)
2023-06-04 17:35:01,008 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 17:35:01,008 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.2 - create role table"
2023-06-04 17:35:01,010 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 17:35:01,011 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_3__create_user_table.sql ...
2023-06-04 17:35:01,013 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH TIMESTAMP        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 17:35:01,013 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.3 - create user table" ...
2023-06-04 17:35:01,014 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 17:35:01,014 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE _USER
(
    ID            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    FIRST_NAME    VARCHAR(255)    NOT NULL,
    LAST_NAME     VARCHAR(255)    NOT NULL,
    EMAIL         VARCHAR(255)    NOT NULL,
    PASSWORD      VARCHAR(255)    NOT NULL,
    DATE_OF_BIRTH TIMESTAMP        NOT NULL,
    USER_ROLE_ID INT NOT NULL ,
    constraint FK_USER_ROLE_ID
        foreign key (USER_ROLE_ID) references
            ROLE (ID)
)
2023-06-04 17:35:01,020 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 17:35:01,021 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.3 - create user table"
2023-06-04 17:35:01,022 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 17:35:01,025 DEBUG [restartedMain] o.f.c.i.p.Parser [Slf4jLog.java:33] Parsing V1_0_4__create_role_permission_table.sql ...
2023-06-04 17:35:01,027 DEBUG [restartedMain] o.f.c.i.s.ParserSqlScript [Slf4jLog.java:33] Found statement at line 1: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 17:35:01,028 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Starting migration of schema "PUBLIC" to version "1.0.4 - create role permission table" ...
2023-06-04 17:35:01,028 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Migrating schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 17:35:01,028 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] Executing SQL: CREATE TABLE ROLE_PERMISSION
(
    ID                            INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ROLE_PERMISSION_ROLE_ID       INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_ROLE_ID
        FOREIGN KEY (ROLE_PERMISSION_ROLE_ID) REFERENCES
            ROLE (ID),
    ROLE_PERMISSION_PERMISSION_ID INT NOT NULL,
    CONSTRAINT FK_ROLE_PERMISSION_PERMISSION_ID
        FOREIGN KEY (ROLE_PERMISSION_PERMISSION_ID) REFERENCES
            PERMISSION (ID)
)
2023-06-04 17:35:01,031 DEBUG [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor [Slf4jLog.java:33] 0 rows affected
2023-06-04 17:35:01,032 DEBUG [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:33] Successfully completed migration of schema "PUBLIC" to version "1.0.4 - create role permission table"
2023-06-04 17:35:01,033 DEBUG [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory [Slf4jLog.java:33] Schema History table "PUBLIC"."flyway_schema_history" successfully updated to reflect changes
2023-06-04 17:35:01,035 INFO [restartedMain] o.f.c.i.c.DbMigrate [Slf4jLog.java:37] Successfully applied 4 migrations to schema "PUBLIC", now at version v1.0.4 (execution time 00:00.050s)
2023-06-04 17:35:01,036 DEBUG [restartedMain] o.f.c.FlywayExecutor [Slf4jLog.java:33] Memory usage: 26 of 88M
2023-06-04 17:35:01,107 INFO [restartedMain] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-04 17:35:01,159 INFO [restartedMain] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-04 17:35:01,161 INFO [restartedMain] o.h.c.Environment [Environment.java:191] HHH000406: Using bytecode reflection optimizer
2023-06-04 17:35:01,297 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 17:35:01,437 INFO [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-04 17:35:01,473 INFO [restartedMain] o.h.o.dialect [DialectFactoryImpl.java:93] HHH035001: Using dialect: org.hibernate.dialect.H2Dialect, version: 2.1.214
2023-06-04 17:35:01,684 INFO [restartedMain] o.h.b.i.BytecodeProviderInitiator [BytecodeProviderInitiator.java:53] HHH000021: Bytecode provider name : bytebuddy
2023-06-04 17:35:02,353 INFO [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:51] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-04 17:35:02,373 INFO [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 17:35:02,668 WARN [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:231] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-04 17:35:02,993 INFO [restartedMain] o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java:59] LiveReload server is running on port 35729
2023-06-04 17:35:03,010 INFO [restartedMain] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8090"]
2023-06-04 17:35:03,027 INFO [restartedMain] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 8090 (http) with context path '/pc-shop'
2023-06-04 17:35:03,037 INFO [restartedMain] e.p.PcShopApplication [StartupInfoLogger.java:57] Started PcShopApplication in 4.263 seconds (process running for 5.083)
2023-06-04 17:35:06,309 INFO [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/pc-shop] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-04 17:42:36,077 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:650] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-04 17:42:36,468 WARN [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:211] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-06-04 17:42:36,469 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2023-06-04 17:42:36,598 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
